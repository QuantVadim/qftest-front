{"remainingRequest":"D:\\vue-projects\\rutest\\node_modules\\babel-loader\\lib\\index.js!D:\\vue-projects\\rutest\\node_modules\\vue-loader-v16\\dist\\templateLoader.js??ref--6!D:\\vue-projects\\rutest\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\vue-projects\\rutest\\node_modules\\vue-loader-v16\\dist\\index.js??ref--0-1!D:\\vue-projects\\rutest\\src\\views\\pages\\TestEditor.vue?vue&type=template&id=2402af04","dependencies":[{"path":"D:\\vue-projects\\rutest\\src\\views\\pages\\TestEditor.vue","mtime":1624586143736},{"path":"D:\\vue-projects\\rutest\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\vue-projects\\rutest\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"D:\\vue-projects\\rutest\\node_modules\\vue-loader-v16\\dist\\templateLoader.js","mtime":1616796459000},{"path":"D:\\vue-projects\\rutest\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\vue-projects\\rutest\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1616796459000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN5bWJvbC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN5bWJvbC5kZXNjcmlwdGlvbi5qcyI7CmltcG9ydCB7IHJlc29sdmVDb21wb25lbnQgYXMgX3Jlc29sdmVDb21wb25lbnQsIGNyZWF0ZVZOb2RlIGFzIF9jcmVhdGVWTm9kZSwgd2l0aEN0eCBhcyBfd2l0aEN0eCwgY3JlYXRlVGV4dFZOb2RlIGFzIF9jcmVhdGVUZXh0Vk5vZGUsIG9wZW5CbG9jayBhcyBfb3BlbkJsb2NrLCBjcmVhdGVCbG9jayBhcyBfY3JlYXRlQmxvY2ssIGNyZWF0ZUNvbW1lbnRWTm9kZSBhcyBfY3JlYXRlQ29tbWVudFZOb2RlIH0gZnJvbSAidnVlIjsKdmFyIF9ob2lzdGVkXzEgPSB7CiAga2V5OiAwCn07CnZhciBfaG9pc3RlZF8yID0gewogIGtleTogMAp9OwoKdmFyIF9ob2lzdGVkXzMgPSAvKiNfX1BVUkVfXyovX2NyZWF0ZVRleHRWTm9kZSgi0KHQvtGF0YDQsNC90LjRgtGMIik7Cgp2YXIgX2hvaXN0ZWRfNCA9IHsKICBrZXk6IDEsCiAgY2xhc3M6ICJjZW50ZXItbG9hZGluZyIKfTsKCnZhciBfaG9pc3RlZF81ID0gLyojX19QVVJFX18qL19jcmVhdGVWTm9kZSgiYnIiLCBudWxsLCBudWxsLCAtMQovKiBIT0lTVEVEICovCik7Cgp2YXIgX2hvaXN0ZWRfNiA9IC8qI19fUFVSRV9fKi9fY3JlYXRlVk5vZGUoImRpdiIsIG51bGwsICLQl9Cw0LPRgNGD0LfQutCwIiwgLTEKLyogSE9JU1RFRCAqLwopOwoKdmFyIF9ob2lzdGVkXzcgPSB7CiAga2V5OiAyCn07CnZhciBfaG9pc3RlZF84ID0gewogIGtleTogMQp9OwpleHBvcnQgZnVuY3Rpb24gcmVuZGVyKF9jdHgsIF9jYWNoZSwgJHByb3BzLCAkc2V0dXAsICRkYXRhLCAkb3B0aW9ucykgewogIHZhciBfY29tcG9uZW50X2l0X2lucHV0ID0gX3Jlc29sdmVDb21wb25lbnQoIml0LWlucHV0Iik7CgogIHZhciBfY29tcG9uZW50X2l0X3RleHRhcmVhID0gX3Jlc29sdmVDb21wb25lbnQoIml0LXRleHRhcmVhIik7CgogIHZhciBfY29tcG9uZW50X2Jsb2NrID0gX3Jlc29sdmVDb21wb25lbnQoImJsb2NrIik7CgogIHZhciBfY29tcG9uZW50X1Rlc3RRdWVzdHMgPSBfcmVzb2x2ZUNvbXBvbmVudCgiVGVzdFF1ZXN0cyIpOwoKICB2YXIgX2NvbXBvbmVudF9pdF9idXR0b24gPSBfcmVzb2x2ZUNvbXBvbmVudCgiaXQtYnV0dG9uIik7CgogIHZhciBfY29tcG9uZW50X2l0X2xvYWRpbmcgPSBfcmVzb2x2ZUNvbXBvbmVudCgiaXQtbG9hZGluZyIpOwoKICB2YXIgX2NvbXBvbmVudF9pdF9hbGVydCA9IF9yZXNvbHZlQ29tcG9uZW50KCJpdC1hbGVydCIpOwoKICByZXR1cm4gJG9wdGlvbnMuTVlJRCA/IChfb3BlbkJsb2NrKCksIF9jcmVhdGVCbG9jaygiZGl2IiwgX2hvaXN0ZWRfMSwgWyRkYXRhLnRlc3QgIT0gdW5kZWZpbmVkID8gKF9vcGVuQmxvY2soKSwgX2NyZWF0ZUJsb2NrKCJkaXYiLCBfaG9pc3RlZF8yLCBbX2NyZWF0ZVZOb2RlKF9jb21wb25lbnRfYmxvY2ssIG51bGwsIHsKICAgIGRlZmF1bHQ6IF93aXRoQ3R4KGZ1bmN0aW9uICgpIHsKICAgICAgcmV0dXJuIFtfY3JlYXRlVk5vZGUoX2NvbXBvbmVudF9pdF9pbnB1dCwgewogICAgICAgIG1vZGVsVmFsdWU6ICRkYXRhLnRlc3QubmFtZSwKICAgICAgICAib25VcGRhdGU6bW9kZWxWYWx1ZSI6IF9jYWNoZVsxXSB8fCAoX2NhY2hlWzFdID0gZnVuY3Rpb24gKCRldmVudCkgewogICAgICAgICAgcmV0dXJuICRkYXRhLnRlc3QubmFtZSA9ICRldmVudDsKICAgICAgICB9KSwKICAgICAgICBwbGFjZWhvbGRlcjogItCd0LDQt9Cy0LDQvdC40LUiCiAgICAgIH0sIG51bGwsIDgKICAgICAgLyogUFJPUFMgKi8KICAgICAgLCBbIm1vZGVsVmFsdWUiXSksIF9jcmVhdGVWTm9kZShfY29tcG9uZW50X2l0X3RleHRhcmVhLCB7CiAgICAgICAgbW9kZWxWYWx1ZTogJGRhdGEudGVzdC5kZXNjcmlwdGlvbiwKICAgICAgICAib25VcGRhdGU6bW9kZWxWYWx1ZSI6IF9jYWNoZVsyXSB8fCAoX2NhY2hlWzJdID0gZnVuY3Rpb24gKCRldmVudCkgewogICAgICAgICAgcmV0dXJuICRkYXRhLnRlc3QuZGVzY3JpcHRpb24gPSAkZXZlbnQ7CiAgICAgICAgfSksCiAgICAgICAgInJlc2l6ZS1vbi13cml0ZSI6IHRydWUsCiAgICAgICAgcGxhY2Vob2xkZXI6ICLQntC/0LjRgdCw0L3QuNC1IgogICAgICB9LCBudWxsLCA4CiAgICAgIC8qIFBST1BTICovCiAgICAgICwgWyJtb2RlbFZhbHVlIl0pXTsKICAgIH0pLAogICAgXzogMQogICAgLyogU1RBQkxFICovCgogIH0pLCBfY3JlYXRlVk5vZGUoX2NvbXBvbmVudF9UZXN0UXVlc3RzLCB7CiAgICBkYXRhOiAkZGF0YS50ZXN0LmJvZHksCiAgICBtb2RlOiAnZWRpdG9yJwogIH0sIG51bGwsIDgKICAvKiBQUk9QUyAqLwogICwgWyJkYXRhIl0pLCBfY3JlYXRlVk5vZGUoX2NvbXBvbmVudF9ibG9jaywgbnVsbCwgewogICAgZGVmYXVsdDogX3dpdGhDdHgoZnVuY3Rpb24gKCkgewogICAgICByZXR1cm4gW19jcmVhdGVWTm9kZShfY29tcG9uZW50X2l0X2J1dHRvbiwgewogICAgICAgIGJsb2NrOiAiIiwKICAgICAgICBvbkNsaWNrOiAkb3B0aW9ucy5TYXZlVGVzdAogICAgICB9LCB7CiAgICAgICAgZGVmYXVsdDogX3dpdGhDdHgoZnVuY3Rpb24gKCkgewogICAgICAgICAgcmV0dXJuIFtfaG9pc3RlZF8zXTsKICAgICAgICB9KSwKICAgICAgICBfOiAxCiAgICAgICAgLyogU1RBQkxFICovCgogICAgICB9LCA4CiAgICAgIC8qIFBST1BTICovCiAgICAgICwgWyJvbkNsaWNrIl0pXTsKICAgIH0pLAogICAgXzogMQogICAgLyogU1RBQkxFICovCgogIH0pXSkpIDogJGRhdGEuZXJyb3IgPT0gZmFsc2UgPyAoX29wZW5CbG9jaygpLCBfY3JlYXRlQmxvY2soImRpdiIsIF9ob2lzdGVkXzQsIFtfY3JlYXRlVk5vZGUoX2NvbXBvbmVudF9pdF9sb2FkaW5nKSwgX2hvaXN0ZWRfNSwgX2hvaXN0ZWRfNl0pKSA6IChfb3BlbkJsb2NrKCksIF9jcmVhdGVCbG9jaygiZGl2IiwgX2hvaXN0ZWRfNywgW19jcmVhdGVWTm9kZShfY29tcG9uZW50X2Jsb2NrLCBudWxsLCB7CiAgICBkZWZhdWx0OiBfd2l0aEN0eChmdW5jdGlvbiAoKSB7CiAgICAgIHJldHVybiBbX2NyZWF0ZVZOb2RlKF9jb21wb25lbnRfaXRfYWxlcnQsIHsKICAgICAgICB0eXBlOiAiZGFuZ2VyIiwKICAgICAgICB0aXRsZTogJ9Ce0YjQuNCx0LrQsCcsCiAgICAgICAgYm9keTogJ9CjINCy0LDRgSDQvdC10YIg0LTQvtGB0YLRg9C/0LAg0Log0Y3RgtC+0L/RgyDQvtCx0YrQtdC60YLRgycKICAgICAgfSldOwogICAgfSksCiAgICBfOiAxCiAgICAvKiBTVEFCTEUgKi8KCiAgfSldKSldKSkgOiAoX29wZW5CbG9jaygpLCBfY3JlYXRlQmxvY2soImRpdiIsIF9ob2lzdGVkXzgsIFtfY3JlYXRlVk5vZGUoX2NvbXBvbmVudF9ibG9jaywgbnVsbCwgewogICAgZGVmYXVsdDogX3dpdGhDdHgoZnVuY3Rpb24gKCkgewogICAgICByZXR1cm4gW19jcmVhdGVWTm9kZShfY29tcG9uZW50X2l0X2FsZXJ0LCB7CiAgICAgICAgdHlwZTogImRhbmdlciIsCiAgICAgICAgdGl0bGU6ICfQndC10YIg0LTQvtGB0YLRg9C/0LAnLAogICAgICAgIGJvZHk6ICfQndC10L7QsdGF0L7QtNC40LzQviDQsNCy0YLQvtGA0LjQt9C40YDQvtCy0LDRgtGM0YHRjycKICAgICAgfSldOwogICAgfSksCiAgICBfOiAxCiAgICAvKiBTVEFCTEUgKi8KCiAgfSldKSk7Cn0="},{"version":3,"sources":["D:\\vue-projects\\rutest\\src\\views\\pages\\TestEditor.vue"],"names":[],"mappings":";;;;;;;;;;;+CAa2C,W;;;;AAGP,EAAA,KAAK,EAAC;;;8BACX,YAAA,CAAM,IAAN,EAAM,IAAN,EAAM,IAAN,EAAM,CAAA;AAAA;AAAN,C;;8BACzB,YAAA,CAAmB,KAAnB,EAAmB,IAAnB,EAAK,UAAL,EAAa,CAAA;AAAA;AAAb,C;;;;;;;;;;;;;;;;;;;;;;;SAjBO,QAAA,CAAA,I,kBAAX,YAAA,CAwBM,KAxBN,EAwBM,UAxBN,EAwBM,CAvBO,KAAA,CAAA,IAAA,IAAQ,S,kBAAnB,YAAA,CAaM,KAbN,EAaM,UAbN,EAaM,CAZJ,YAAA,CAOQ,gBAPR,EAOQ,IAPR,EAOQ;sBANN;AAAA,aAAgE,CAAhE,YAAA,CAAgE,mBAAhE,EAAgE;oBAA7C,KAAA,CAAA,IAAA,CAAK,IAAwC;;iBAA7C,KAAA,CAAA,IAAA,CAAK,IAAL,GAAS,M;UAAoC;AAAlC,QAAA,WAAW,EAAC;AAAsB,OAAhE,E,IAAA,E;;AAAA,Q,cAAA,CAAgE,EAChE,YAAA,CAIe,sBAJf,EAIe;oBAHJ,KAAA,CAAA,IAAA,CAAK,WAGD;;iBAHJ,KAAA,CAAA,IAAA,CAAK,WAAL,GAAgB,M;UAGZ;AAFZ,2BAAiB,IAEL;AADb,QAAA,WAAW,EAAC;AACC,OAJf,E,IAAA,E;;AAAA,Q,cAAA,CADgE,CAAhE;AAAA,K,CAMM;;;;AAAA,GAPR,CAYI,EAJJ,YAAA,CAAiD,qBAAjD,EAAiD;AAApC,IAAA,IAAI,EAAE,KAAA,CAAA,IAAA,CAAK,IAAyB;AAAlB,IAAA,IAAI,EAAE;AAAY,GAAjD,E,IAAA,E;;AAAA,I,QAAA,CAII,EAHJ,YAAA,CAEQ,gBAFR,EAEQ,IAFR,EAEQ;sBADN;AAAA,aAAwD,CAAxD,YAAA,CAAwD,oBAAxD,EAAwD;AAA7C,QAAA,KAAK,EAAL,EAA6C;AAAtC,QAAA,OAAK,EAAE,QAAA,CAAA;AAA+B,OAAxD,E;0BAAmC;AAAA,iBAAS,C,UAAA,CAAT;AAAA,S;;;;OAAnC,E;;AAAA,Q,WAAA,CAAwD,CAAxD;AAAA,K,CACM;;;;AAAA,GAFR,CAGI,CAbN,C,IAcgB,KAAA,CAAA,KAAA,IAAK,K,kBAArB,YAAA,CAGM,KAHN,EAAA,UAAA,EAGM,CAFJ,YAAA,CAAyB,qBAAzB,CAEI,EAFqB,UAErB,EADJ,UACI,CAHN,C,mBAIA,YAAA,CAIM,KAJN,EAIM,UAJN,EAIM,CAHJ,YAAA,CAEQ,gBAFR,EAEQ,IAFR,EAEQ;sBADR;AAAA,aAAuF,CAAvF,YAAA,CAAuF,mBAAvF,EAAuF;AAA7E,QAAA,IAAI,EAAC,QAAwE;AAA9D,QAAA,KAAK,EAAE,QAAuD;AAA5C,QAAA,IAAI,EAAE;AAAsC,OAAvF,CAAuF,CAAvF;AAAA,K,CACQ;;;;AAAA,GAFR,CAGI,CAJN,C,CAKI,CAxBN,C,mBAyBA,YAAA,CAIM,KAJN,EAIM,UAJN,EAIM,CAHJ,YAAA,CAEQ,gBAFR,EAEQ,IAFR,EAEQ;sBADN;AAAA,aAAsF,CAAtF,YAAA,CAAsF,mBAAtF,EAAsF;AAA5E,QAAA,IAAI,EAAC,QAAuE;AAA7D,QAAA,KAAK,EAAE,aAAsD;AAAtC,QAAA,IAAI,EAAE;AAAgC,OAAtF,CAAsF,CAAtF;AAAA,K,CACM;;;;AAAA,GAFR,CAGI,CAJN,C","sourcesContent":["<template>\n  <div v-if=\"MYID\">\n    <div v-if=\"test != undefined\">\n      <block>\n        <it-input v-model=\"test.name\" placeholder=\"Название\"></it-input>\n        <it-textarea\n          v-model=\"test.description\"\n          :resize-on-write=\"true\"\n          placeholder=\"Описание\"\n        ></it-textarea>\n      </block>\n      <TestQuests :data=\"test.body\" :mode=\"'editor'\" />\n      <block>\n        <it-button block @click=\"SaveTest\">Сохранить</it-button>\n      </block>\n    </div>\n    <div v-else-if=\"error == false\" class=\"center-loading\">\n      <it-loading></it-loading><br />\n      <div>Загрузка</div>\n    </div>\n    <div v-else>\n      <block>\n      <it-alert type=\"danger\" :title=\"'Ошибка'\" :body=\"'У вас нет доступа к этопу объекту'\"/>\n      </block>\n    </div>\n  </div>\n  <div v-else>\n    <block>\n      <it-alert type=\"danger\" :title=\"'Нет доступа'\" :body=\"'Необходимо авторизироваться'\"/>\n    </block>\n  </div>\n</template>\n\n<script>\nimport TestQuests from \"../../components/TestQuests\";\n\nexport default {\n  components: {\n    TestQuests,\n  },\n  computed:{\n    MYID(){return this.$store.getters.MYID;}\n  },\n  data() {\n    return {\n      test: undefined,\n      error: false,\n    };\n  },\n  beforeRouteLeave(){\n    return confirm('Вы уверены, что хотите уйти?');\n  },\n  methods:{\n    SaveTest(){\n      let obj = {\n        q: 'test_save',\n        me: this.$store.state.ME.data,\n        test: this.test,\n      }\n      this.axios.post(window.c.API, obj).then(itm => {\n        console.log(itm.data);\n        if(itm.data?.data){\n          let test_id = itm.data?.data;\n          this.$router.replace({path: `/test/${test_id}/editor`})\n        }\n      });\n    }\n  },\n  created(){\n    if(this.$route.params.id == 'new'){\n      this.test = {\n        test_id: this.$route.params.id,\n        usr_id: this.MYID,\n        name: 'Новый тест',\n        description: '',\n        body: []\n      }\n    }else{\n      let obj = {\n        q: 'get_test_editor',\n        me: this.$store.state.ME.data,\n        test_id: this.$route.params.id,\n      }\n      this.axios.post(window.c.API, obj).then(itm => {\n        console.log(itm.data);\n        if(itm.data?.data){\n          this.test = itm.data.data;\n        }else if(itm.data?.error){\n          this.error = itm.data.error;\n        }\n      });\n    }\n  },\n};\n</script>\n\n<style>\ntextarea.it-textarea {\n  overflow: hidden !important;\n}\n</style>\n"],"sourceRoot":""}]}