{"remainingRequest":"D:\\vue-projects\\rutest\\node_modules\\babel-loader\\lib\\index.js!D:\\vue-projects\\rutest\\node_modules\\vue-loader-v16\\dist\\templateLoader.js??ref--6!D:\\vue-projects\\rutest\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\vue-projects\\rutest\\node_modules\\vue-loader-v16\\dist\\index.js??ref--0-1!D:\\vue-projects\\rutest\\src\\components\\Items\\User.vue?vue&type=template&id=770283ec&scoped=true","dependencies":[{"path":"D:\\vue-projects\\rutest\\src\\components\\Items\\User.vue","mtime":1623956156585},{"path":"D:\\vue-projects\\rutest\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\vue-projects\\rutest\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"D:\\vue-projects\\rutest\\node_modules\\vue-loader-v16\\dist\\templateLoader.js","mtime":1616796459000},{"path":"D:\\vue-projects\\rutest\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\vue-projects\\rutest\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1616796459000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHsgcmVzb2x2ZUNvbXBvbmVudCBhcyBfcmVzb2x2ZUNvbXBvbmVudCwgY3JlYXRlVk5vZGUgYXMgX2NyZWF0ZVZOb2RlLCB0b0Rpc3BsYXlTdHJpbmcgYXMgX3RvRGlzcGxheVN0cmluZywgb3BlbkJsb2NrIGFzIF9vcGVuQmxvY2ssIGNyZWF0ZUJsb2NrIGFzIF9jcmVhdGVCbG9jaywgY3JlYXRlQ29tbWVudFZOb2RlIGFzIF9jcmVhdGVDb21tZW50Vk5vZGUsIHdpdGhTY29wZUlkIGFzIF93aXRoU2NvcGVJZCwgcHVzaFNjb3BlSWQgYXMgX3B1c2hTY29wZUlkLCBwb3BTY29wZUlkIGFzIF9wb3BTY29wZUlkIH0gZnJvbSAidnVlIjsKCnZhciBfd2l0aElkID0gLyojX19QVVJFX18qL193aXRoU2NvcGVJZCgiZGF0YS12LTc3MDI4M2VjIik7CgpfcHVzaFNjb3BlSWQoImRhdGEtdi03NzAyODNlYyIpOwoKdmFyIF9ob2lzdGVkXzEgPSB7CiAgY2xhc3M6ICJ1c2VyLWl0ZW0tbmFtZS1yb3ciCn07CnZhciBfaG9pc3RlZF8yID0gewogIGNsYXNzOiAidXNlci1uYW1lIgp9Owp2YXIgX2hvaXN0ZWRfMyA9IHsKICBrZXk6IDAKfTsKCl9wb3BTY29wZUlkKCk7CgpleHBvcnQgdmFyIHJlbmRlciA9IC8qI19fUFVSRV9fKi9fd2l0aElkKGZ1bmN0aW9uIChfY3R4LCBfY2FjaGUsICRwcm9wcywgJHNldHVwLCAkZGF0YSwgJG9wdGlvbnMpIHsKICB2YXIgXyRwcm9wcyRkYXRhLCBfJHByb3BzJGRhdGEyLCBfJHByb3BzJGRhdGEzOwoKICB2YXIgX2NvbXBvbmVudF9pdF9hdmF0YXIgPSBfcmVzb2x2ZUNvbXBvbmVudCgiaXQtYXZhdGFyIik7CgogIHZhciBfY29tcG9uZW50X1NwbGl0QnV0dG9uID0gX3Jlc29sdmVDb21wb25lbnQoIlNwbGl0QnV0dG9uIik7CgogIHJldHVybiBfb3BlbkJsb2NrKCksIF9jcmVhdGVCbG9jaygiZGl2IiwgbnVsbCwgW19jcmVhdGVWTm9kZSgiZGl2IiwgX2hvaXN0ZWRfMSwgW19jcmVhdGVWTm9kZShfY29tcG9uZW50X2l0X2F2YXRhciwgewogICAgc3JjOiAoXyRwcm9wcyRkYXRhID0gJHByb3BzLmRhdGEpID09PSBudWxsIHx8IF8kcHJvcHMkZGF0YSA9PT0gdm9pZCAwID8gdm9pZCAwIDogXyRwcm9wcyRkYXRhLmF2YXRhcgogIH0sIG51bGwsIDgKICAvKiBQUk9QUyAqLwogICwgWyJzcmMiXSksIF9jcmVhdGVWTm9kZSgiZGl2IiwgX2hvaXN0ZWRfMiwgW19jcmVhdGVWTm9kZSgic3BhbiIsIG51bGwsIF90b0Rpc3BsYXlTdHJpbmcoJG9wdGlvbnMudXNlck5hbWUpLCAxCiAgLyogVEVYVCAqLwogICksICRwcm9wcy5kYXRhLnJlcV9pZCA/IChfb3BlbkJsb2NrKCksIF9jcmVhdGVCbG9jaygic3BhbiIsIF9ob2lzdGVkXzMsIFsoKF8kcHJvcHMkZGF0YTIgPSAkcHJvcHMuZGF0YSkgPT09IG51bGwgfHwgXyRwcm9wcyRkYXRhMiA9PT0gdm9pZCAwID8gdm9pZCAwIDogXyRwcm9wcyRkYXRhMi5hY2NlcHRlZCkgIT0gdW5kZWZpbmVkID8gKF9vcGVuQmxvY2soKSwgX2NyZWF0ZUJsb2NrKF9jb21wb25lbnRfU3BsaXRCdXR0b24sIHsKICAgIGtleTogMCwKICAgIGxhYmVsOiAoKF8kcHJvcHMkZGF0YTMgPSAkcHJvcHMuZGF0YSkgPT09IG51bGwgfHwgXyRwcm9wcyRkYXRhMyA9PT0gdm9pZCAwID8gdm9pZCAwIDogXyRwcm9wcyRkYXRhMy5hY2NlcHRlZCkgPT0gMCA/ICfQn9GA0LjQvdGP0YLRjCcgOiAn0J7RgtC60LvQvtC90LjRgtGMJywKICAgIG1vZGVsOiAkZGF0YS5SZXFBY3Rpb25zLAogICAgb25DbGljazogJG9wdGlvbnMuYWNjZXB0VXNlciwKICAgIGNsYXNzOiAicC1idXR0b24tc2Vjb25kYXJ5IgogIH0sIG51bGwsIDgKICAvKiBQUk9QUyAqLwogICwgWyJsYWJlbCIsICJtb2RlbCIsICJvbkNsaWNrIl0pKSA6IF9jcmVhdGVDb21tZW50Vk5vZGUoInYtaWYiLCB0cnVlKV0pKSA6IF9jcmVhdGVDb21tZW50Vk5vZGUoInYtaWYiLCB0cnVlKV0pXSldKTsKfSk7"},{"version":3,"sources":["D:\\vue-projects\\rutest\\src\\components\\Items\\User.vue"],"names":[],"mappings":";;;;;;;AAES,EAAA,KAAK,EAAC;;;AAEJ,EAAA,KAAK,EAAC;;;;;;;;;;;;;;;uBAHf,YAAA,CAeM,KAfN,EAeM,IAfN,EAeM,CAdJ,YAAA,CAaM,KAbN,EAAA,UAAA,EAaM,CAZJ,YAAA,CAAiC,oBAAjC,EAAiC;AAArB,IAAA,GAAG,kBAAE,MAAA,CAAA,IAAF,iDAAE,aAAM;AAAU,GAAjC,E,IAAA,E;;AAAA,I,OAAA,CAYI,EAXJ,YAAA,CAUM,KAVN,EAAA,UAAA,EAUM,CATJ,YAAA,CAA2B,MAA3B,EAA2B,IAA3B,EAA2B,gBAAA,CAAlB,QAAA,CAAA,QAAkB,CAA3B,EAAiB;AAAA;AAAjB,GASI,EARQ,MAAA,CAAA,IAAA,CAAK,M,kBAAjB,YAAA,CAOS,MAPT,EAOS,UAPT,EAOS,CALC,kBAAA,MAAA,CAAA,IAAA,gEAAM,QAAN,KAAkB,S,kBADzB,YAAA,CAMD,sBANC,EAMD;UAAA;AAJG,IAAA,KAAK,EAAE,kBAAA,MAAA,CAAA,IAAA,gEAAM,QAAN,KAAc,CAAd,GAAc,SAAd,GAAc,WAIxB;AAHG,IAAA,KAAK,EAAE,KAAA,CAAA,UAGV;AAFG,IAAA,OAAK,EAAE,QAAA,CAAA,UAEV;AADE,IAAA,KAAK,EAAC;AACR,GANC,E,IAAA,E;;AAAA,I,6BAAA,C,qCAMM,CAPT,C,qCAQI,CAVN,CAWI,CAbN,CAcI,CAfN,C","sourcesContent":["<template>\r\n  <div>\r\n    <div class=\"user-item-name-row\">\r\n      <it-avatar :src=\"data?.avatar\" />\r\n      <div class=\"user-name\">\r\n        <span>{{ userName }}</span>\r\n        <span v-if=\"data.req_id\"\r\n          ><SplitButton\r\n            v-if=\"data?.accepted != undefined\"\r\n            :label=\"data?.accepted == 0 ? 'Принять' : 'Отклонить'\"\r\n            :model=\"ReqActions\"\r\n            @click=\"acceptUser\"\r\n            class=\"p-button-secondary\"\r\n        /></span>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport SplitButton from \"primevue/splitbutton\";\r\nexport default {\r\n  components: {\r\n    SplitButton,\r\n  },\r\n  props: [\"data\", \"index\"],\r\n  data() {\r\n    return {\r\n      indexM: this?.index ? this?.index : 0,\r\n      ReqActions: [\r\n        {\r\n          label: \"Удалить\",\r\n          icon: \"pi pi-times\",\r\n          command: () => {\r\n            console.log(\"Delete\");\r\n          },\r\n        },\r\n      ],\r\n    };\r\n  },\r\n  created(){console.log(this.index)},\r\n  computed: {\r\n    userName() {\r\n      return this.data?.name\r\n        ? this.data.name\r\n        : this.data.first_name + this.data.last_name;\r\n    },\r\n  },\r\n  methods:{\r\n    acceptUser(){\r\n      let obj = {\r\n        q: 'join_request_action',\r\n        me: this.$store.state.ME.data,\r\n        action: 'set_accepted',\r\n        accepted: this.data.accepted == false,\r\n        req_id: this.data.req_id,\r\n      }\r\n      console.log(obj);\r\n      this.axios.post(window.c.API, obj).then(itm=>{\r\n        console.log(itm.data);\r\n        if(itm.data?.data){\r\n          this.$emit('update_item', itm.data.data, this?.index);\r\n        }\r\n      });\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.p-splitbutton .p-button{\r\n  background-color: rgb(206, 38, 38) !important;\r\n}\r\n.user-item-name-row {\r\n  display: grid;\r\n  grid-template-columns: auto 1fr;\r\n}\r\n\r\n.user-item-name-row .user-name {\r\n  display: grid;\r\n  grid-template-columns: 1fr auto;\r\n  margin: 3px 0px 3px 6px;\r\n  line-height: 34px;\r\n}\r\n</style>"],"sourceRoot":""}]}