{"remainingRequest":"D:\\vue-projects\\rutest\\node_modules\\thread-loader\\dist\\cjs.js!D:\\vue-projects\\rutest\\node_modules\\babel-loader\\lib\\index.js!D:\\vue-projects\\rutest\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\vue-projects\\rutest\\node_modules\\vue-loader-v16\\dist\\index.js??ref--0-1!D:\\vue-projects\\rutest\\src\\components\\Menus\\EditorGTest.vue?vue&type=script&lang=js","dependencies":[{"path":"D:\\vue-projects\\rutest\\src\\components\\Menus\\EditorGTest.vue","mtime":1638886979496},{"path":"D:\\vue-projects\\rutest\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\vue-projects\\rutest\\node_modules\\thread-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\vue-projects\\rutest\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"D:\\vue-projects\\rutest\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\vue-projects\\rutest\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1616796459000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IFRlc3RQdWJsaXNoaW5nU2V0dGluZ3MgZnJvbSAiLi9UZXN0UHVibGlzaGluZ1NldHRpbmdzLnZ1ZSI7CmV4cG9ydCBkZWZhdWx0IHsKICBjb21wb25lbnRzOiB7CiAgICBUZXN0UHVibGlzaGluZ1NldHRpbmdzOiBUZXN0UHVibGlzaGluZ1NldHRpbmdzCiAgfSwKICBwcm9wczogWyJkYXRhIiwgImluZGV4Il0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHZhciBfdGhpcyRkYXRhLCBfdGhpcyRkYXRhMiwgX3RoaXMkZGF0YTMsIF90aGlzJGRhdGE0LCBfdGhpcyRkYXRhNSwgX3RoaXMkZGF0YTYsIF90aGlzJGRhdGE3OwoKICAgIHJldHVybiB7CiAgICAgIGNvbW1lbnQ6IHRoaXMuZGF0YS5jb21tZW50LAogICAgICBzaGFyaW5nVGVzdDogZmFsc2UsCiAgICAgIGNhc2hTZXR0aW5nczogewogICAgICAgIGlzX2xpbWl0X2F0dGVtcHRzOiB0aGlzLmRhdGEuYXR0ZW1wdHMgIT0gbnVsbCwKICAgICAgICBsaW1pdF9hdHRlbXB0czogdGhpcy5kYXRhLmF0dGVtcHRzID8gcGFyc2VJbnQodGhpcy5kYXRhLmF0dGVtcHRzKSA6IDEsCiAgICAgICAgaXNfZGF0ZV9zdGFydDogKF90aGlzJGRhdGEgPSB0aGlzLmRhdGEpICE9PSBudWxsICYmIF90aGlzJGRhdGEgIT09IHZvaWQgMCAmJiBfdGhpcyRkYXRhLmRhdGVfc3RhcnQgPyB0cnVlIDogZmFsc2UsCiAgICAgICAgaXNfZGF0ZV9lbmQ6IChfdGhpcyRkYXRhMiA9IHRoaXMuZGF0YSkgIT09IG51bGwgJiYgX3RoaXMkZGF0YTIgIT09IHZvaWQgMCAmJiBfdGhpcyRkYXRhMi5kYXRlX2VuZCA/IHRydWUgOiBmYWxzZSwKICAgICAgICBkYXRlX3N0YXJ0OiAoX3RoaXMkZGF0YTMgPSB0aGlzLmRhdGEpICE9PSBudWxsICYmIF90aGlzJGRhdGEzICE9PSB2b2lkIDAgJiYgX3RoaXMkZGF0YTMuZGF0ZV9zdGFydCA/IG5ldyBEYXRlKChfdGhpcyRkYXRhNCA9IHRoaXMuZGF0YSkgPT09IG51bGwgfHwgX3RoaXMkZGF0YTQgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF90aGlzJGRhdGE0LmRhdGVfc3RhcnQpIDogdW5kZWZpbmVkLAogICAgICAgIGRhdGVfZW5kOiAoX3RoaXMkZGF0YTUgPSB0aGlzLmRhdGEpICE9PSBudWxsICYmIF90aGlzJGRhdGE1ICE9PSB2b2lkIDAgJiYgX3RoaXMkZGF0YTUuZGF0ZV9lbmQgPyBuZXcgRGF0ZSgoX3RoaXMkZGF0YTYgPSB0aGlzLmRhdGEpID09PSBudWxsIHx8IF90aGlzJGRhdGE2ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfdGhpcyRkYXRhNi5kYXRlX2VuZCkgOiB1bmRlZmluZWQsCiAgICAgICAgZHVyYXRpb25fdGltZTogK3RoaXMuZGF0YS5kdXJhdGlvbl90aW1lLAogICAgICAgIGlzX2R1cmF0aW9uX3RpbWU6IChfdGhpcyRkYXRhNyA9IHRoaXMuZGF0YSkgIT09IG51bGwgJiYgX3RoaXMkZGF0YTcgIT09IHZvaWQgMCAmJiBfdGhpcyRkYXRhNy5kdXJhdGlvbl90aW1lID8gdHJ1ZSA6IGZhbHNlCiAgICAgIH0sCiAgICAgIGlzQnRuU2hhcmU6IGZhbHNlCiAgICB9OwogIH0sCiAgd2F0Y2g6IHt9LAogIG1vdW50ZWQ6IGZ1bmN0aW9uIG1vdW50ZWQoKSB7CiAgICBjb25zb2xlLmxvZyh0aGlzLmRhdGEpOwogIH0sCiAgbWV0aG9kczogewogICAgdG9DYXNoU2V0dGluZ3M6IGZ1bmN0aW9uIHRvQ2FzaFNldHRpbmdzKGRhdGEpIHsKICAgICAgdGhpcy5jYXNoU2V0dGluZ3MgPSBkYXRhOwogICAgfSwKICAgIHNhdmVHVGVzdDogZnVuY3Rpb24gc2F2ZUdUZXN0KCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgaWYgKHRoaXMuc2hhcmluZ1Rlc3QpIHJldHVybiBmYWxzZTsKICAgICAgdGhpcy5zaGFyaW5nVGVzdCA9IHRydWU7CiAgICAgIHZhciBvYmogPSB7CiAgICAgICAgcTogJ2VkaXRfZ3Rlc3QnLAogICAgICAgIG1lOiB0aGlzLiRzdG9yZS5zdGF0ZS5NRS5kYXRhLAogICAgICAgIGd0X2lkOiB0aGlzLmRhdGEuZ3RfaWQsCiAgICAgICAgZ3JfaWQ6IHRoaXMuJHJvdXRlLnBhcmFtcy5pZCwKICAgICAgICBzZXR0aW5nczogdGhpcy5jYXNoU2V0dGluZ3MsCiAgICAgICAgY29tbWVudDogdGhpcy5jb21tZW50CiAgICAgIH07CiAgICAgIGNvbnNvbGUubG9nKG9iaik7CiAgICAgIHRoaXMuYXhpb3MucG9zdCh0aGlzLmFwaXVybCwgb2JqKS50aGVuKGZ1bmN0aW9uIChpdG0pIHsKICAgICAgICB2YXIgX2l0bSRkYXRhOwoKICAgICAgICBfdGhpcy5zaGFyaW5nVGVzdCA9IGZhbHNlOwogICAgICAgIGNvbnNvbGUubG9nKGl0bS5kYXRhKTsKCiAgICAgICAgaWYgKChfaXRtJGRhdGEgPSBpdG0uZGF0YSkgIT09IG51bGwgJiYgX2l0bSRkYXRhICE9PSB2b2lkIDAgJiYgX2l0bSRkYXRhLmRhdGEpIHsKICAgICAgICAgIF90aGlzLiROb3RpZmljYXRpb24uc3VjY2Vzcyh7CiAgICAgICAgICAgIHRpdGxlOiAn0KLQtdGB0YIg0LjQt9C80LXQvdC10L0nLAogICAgICAgICAgICBwbGFjZW1lbnQ6ICdib3R0b20tcmlnaHQnLAogICAgICAgICAgICB0ZXh0OiAi0JLRiyDRg9GB0L/QtdGI0L3QviDQuNC30LzQtdC90LjQu9C4INGC0LXRgdGCIgogICAgICAgICAgfSk7CgogICAgICAgICAgX3RoaXMuJGVtaXQoJ29uLWVkaXQnLCBpdG0uZGF0YS5kYXRhLCBfdGhpcyA9PT0gbnVsbCB8fCBfdGhpcyA9PT0gdm9pZCAwID8gdm9pZCAwIDogX3RoaXMuaW5kZXgpOwoKICAgICAgICAgIF90aGlzLiRlbWl0KCdvbi1jbG9zZScpOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9CiAgfQp9Ow=="},{"version":3,"sources":["D:\\vue-projects\\rutest\\src\\components\\Menus\\EditorGTest.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n  <div v-if=\"data\">\r\n    <div>\r\n      <div class=\"itm-test-main-info\">\r\n        <it-avatar square size=\"45px\" :src=\"data.ico_url\" :text=\"data.name || 'N O'\" />\r\n        <h3 class=\"card-test-title\">\r\n          <span>{{ data.name }}</span>\r\n        </h3>\r\n        <span v-if=\"data?.description?.length\" class=\"card-description\">\r\n          <pre>{{ data.description }}</pre>\r\n        </span>\r\n      </div>\r\n    </div>\r\n    <it-textarea class=\"it-share-test-comment\" v-model=\"comment\" :resize-on-write=\"true\" :rows=\"1\" placeholder=\"Комментарий\"/>\r\n    <TestPublishingSettings v-if=\"cashSettings\" :data=\"cashSettings\" class=\"enter-show\" @cash=\"toCashSettings\" />\r\n    <br>\r\n    <it-button @click=\"saveGTest\" :loading=\"sharingTest\" size=\"big\" block >Сохранить</it-button>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport TestPublishingSettings from \"./TestPublishingSettings.vue\";\r\n\r\nexport default {\r\n  components: {\r\n    TestPublishingSettings,\r\n  },\r\n  props: [\"data\", \"index\"],\r\n  data() {\r\n    return {\r\n      comment: this.data.comment,\r\n      sharingTest: false,\r\n      cashSettings: {\r\n        is_limit_attempts: this.data.attempts != null,\r\n        limit_attempts: this.data.attempts ? parseInt(this.data.attempts) : 1,\r\n        is_date_start: this.data?.date_start ? true : false,\r\n        is_date_end: this.data?.date_end ? true : false,\r\n        date_start: this.data?.date_start ? new Date(this.data?.date_start) : undefined,\r\n        date_end:  this.data?.date_end ? new Date(this.data?.date_end) : undefined,\r\n        duration_time: +(this.data.duration_time),\r\n        is_duration_time: this.data?.duration_time ? true : false,\r\n      },\r\n      isBtnShare: false,\r\n    };\r\n  },\r\n  watch:{\r\n  },\r\n  mounted(){\r\n    console.log(this.data);\r\n  },\r\n  methods:{\r\n    toCashSettings(data){\r\n      this.cashSettings = data;\r\n    },\r\n    saveGTest(){\r\n      if(this.sharingTest) return false;\r\n      this.sharingTest = true;\r\n      let obj = {\r\n        q: 'edit_gtest',\r\n        me: this.$store.state.ME.data,\r\n        gt_id: this.data.gt_id,\r\n        gr_id: this.$route.params.id,\r\n        settings: this.cashSettings,\r\n        comment: this.comment,\r\n      }\r\n      console.log(obj);\r\n      this.axios.post(this.apiurl, obj).then(itm=>{\r\n        this.sharingTest = false;\r\n        console.log(itm.data);\r\n        if(itm.data?.data){\r\n          this.$Notification.success({\r\n            title: 'Тест изменен',\r\n            placement: 'bottom-right',\r\n            text: \"Вы успешно изменили тест\",\r\n          });\r\n          this.$emit('on-edit', itm.data.data, this?.index);\r\n          this.$emit('on-close');\r\n        }\r\n      });\r\n    }\r\n\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.it-share-test-comment{\r\n  margin: 8px 0px;\r\n}\r\n.it-avatar {\r\n  float: left;\r\n  margin-right: 6px;\r\n}\r\n.itm-test-main-info {\r\n  min-height: 45px;\r\n}\r\n\r\npre {\r\n  margin: 0px;\r\n}\r\nh3 {\r\n  margin: 0px;\r\n}\r\n.card-description {\r\n  max-height: 300px;\r\n  overflow-y: auto;\r\n}\r\n</style>\r\n"],"sourceRoot":""}]}