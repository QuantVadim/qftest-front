{"remainingRequest":"E:\\vue-projects\\QFTest\\qftest-front\\node_modules\\babel-loader\\lib\\index.js!E:\\vue-projects\\QFTest\\qftest-front\\node_modules\\eslint-loader\\index.js??ref--13-0!E:\\vue-projects\\QFTest\\qftest-front\\src\\others\\ListManager.js","dependencies":[{"path":"E:\\vue-projects\\QFTest\\qftest-front\\src\\others\\ListManager.js","mtime":1647388266130},{"path":"E:\\vue-projects\\QFTest\\qftest-front\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1647388190513},{"path":"E:\\vue-projects\\QFTest\\qftest-front\\node_modules\\babel-loader\\lib\\index.js","mtime":1647388184590},{"path":"E:\\vue-projects\\QFTest\\qftest-front\\node_modules\\eslint-loader\\index.js","mtime":1647388214129}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkU6L3Z1ZS1wcm9qZWN0cy9RRlRlc3QvcWZ0ZXN0LWZyb250L25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuc3BsaWNlLmpzIjsKaW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUuanMiOwovL9Cc0LXQvdC10LTQttC10YAg0LfQsNCz0YDRg9C30LrQuCDRgdC/0LjRgdC60LAKaW1wb3J0IGNvbmYgZnJvbSAiQC9jb25mLmpzIjsKaW1wb3J0IGF4aW9zIGZyb20gImF4aW9zIjsKZXhwb3J0IGRlZmF1bHQgewogIENyZWF0ZTogZnVuY3Rpb24gQ3JlYXRlKHVzZXIsIHF1ZXJ5LCBjb2xOYW1lLCBjb3VudCkgewogICAgdmFyIGRlc2MgPSBhcmd1bWVudHMubGVuZ3RoID4gNCAmJiBhcmd1bWVudHNbNF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1s0XSA6IHRydWU7CiAgICB2YXIgZnVuYyA9IGFyZ3VtZW50cy5sZW5ndGggPiA1ID8gYXJndW1lbnRzWzVdIDogdW5kZWZpbmVkOwogICAgdmFyIGxpc3QgPSB7CiAgICAgIGl0ZW1zOiBbXSwKICAgICAgLy/QrdC70LXQvNC10L3RgtGLCiAgICAgIGlzTG9hZGluZzogZmFsc2UsCiAgICAgIC8v0JjQtNC10YIg0LvQuCDQt9Cw0LPRgNGD0LfQutCwINC00LDQvdC90YvRhQogICAgICBpc01vcmU6IHRydWUsCiAgICAgIC8v0JXRgdGC0Ywg0LvQuCDQtdGJ0LUg0LrQvtC90YLQtdC90YIg0LTQu9GPIAogICAgICBpbmZvOiB1bmRlZmluZWQsCiAgICAgIExvYWQ6IGZ1bmN0aW9uIExvYWQoKSB7CiAgICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSgpIHsKICAgICAgICAgIHZhciBvYmo7CiAgICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICAgIGlmICghX3RoaXMuaXNMb2FkaW5nKSB7CiAgICAgICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDI7CiAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5hYnJ1cHQoInJldHVybiIsIGZhbHNlKTsKCiAgICAgICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgICAgICAgIF90aGlzLmlzTG9hZGluZyA9IHRydWU7CiAgICAgICAgICAgICAgICAgIG9iaiA9IHsKICAgICAgICAgICAgICAgICAgICBxOiBxdWVyeSwKICAgICAgICAgICAgICAgICAgICBtZTogdXNlciwKICAgICAgICAgICAgICAgICAgICBkZXNjOiBkZXNjLAogICAgICAgICAgICAgICAgICAgIGNvdW50OiBjb3VudAogICAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgICAgICBpZiAoX3RoaXMuaW5mbykgb2JqLmluZm8gPSBfdGhpcy5pbmZvOwogICAgICAgICAgICAgICAgICBpZiAoX3RoaXMuaXRlbXMubGVuZ3RoID4gMCkgb2JqLnBvaW50ID0gX3RoaXMuaXRlbXNbX3RoaXMuaXRlbXMubGVuZ3RoIC0gMV1bY29sTmFtZV07CiAgICAgICAgICAgICAgICAgIGF4aW9zLnBvc3QoY29uZi5BUEksIG9iaikudGhlbihmdW5jdGlvbiAoaXRtKSB7CiAgICAgICAgICAgICAgICAgICAgdmFyIF9pdG0kZGF0YTsKCiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ9CS0J7QoicsIGl0bS5kYXRhKTsKCiAgICAgICAgICAgICAgICAgICAgaWYgKChfaXRtJGRhdGEgPSBpdG0uZGF0YSkgIT09IG51bGwgJiYgX2l0bSRkYXRhICE9PSB2b2lkIDAgJiYgX2l0bSRkYXRhLmRhdGEpIHsKICAgICAgICAgICAgICAgICAgICAgIGlmIChpdG0uZGF0YS5kYXRhLmxlbmd0aCA+IDApIHsKICAgICAgICAgICAgICAgICAgICAgICAgdmFyIF9pdG0kZGF0YTI7CgogICAgICAgICAgICAgICAgICAgICAgICB2YXIgbGVuZyA9IChfaXRtJGRhdGEyID0gaXRtLmRhdGEpID09PSBudWxsIHx8IF9pdG0kZGF0YTIgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9pdG0kZGF0YTIuZGF0YS5sZW5ndGg7CgogICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbmc7IGkrKykgewogICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBfaXRtJGRhdGEzOwoKICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5pdGVtcy5wdXNoKChfaXRtJGRhdGEzID0gaXRtLmRhdGEpID09PSBudWxsIHx8IF9pdG0kZGF0YTMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9pdG0kZGF0YTMuZGF0YVtpXSk7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChsZW5nIDwgb2JqLmNvdW50KSBfdGhpcy5pc01vcmUgPSBmYWxzZTsKICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLmlzTW9yZSA9IGZhbHNlOwogICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgX3RoaXMuaXNMb2FkaW5nID0gZmFsc2U7CiAgICAgICAgICAgICAgICAgICAgaWYgKGZ1bmMpIGZ1bmMoKTsKICAgICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgICAgY2FzZSA3OgogICAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgIH0sIF9jYWxsZWUpOwogICAgICAgIH0pKSgpOwogICAgICB9LAogICAgICBSZWZyZXNoOiBmdW5jdGlvbiBSZWZyZXNoKCkgewogICAgICAgIHRoaXMuaXNNb3JlID0gdHJ1ZTsKICAgICAgICB0aGlzLml0ZW1zID0gW107CiAgICAgICAgdGhpcy5Mb2FkKCk7CiAgICAgIH0sCiAgICAgIERlbGV0ZUJ5OiBmdW5jdGlvbiBEZWxldGVCeShjb2wsIHZhbHVlKSB7CiAgICAgICAgLy/QmNC80Y8g0L/QsNGA0LDQvNC10YLRgNCwLCDQt9C90LDRh9C10L3QuNC1INC/0LDRgNCw0LzQtdGC0YDQsAogICAgICAgIHZhciBkZWwgPSB1bmRlZmluZWQ7CgogICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5pdGVtcy5sZW5ndGg7IGkrKykgewogICAgICAgICAgaWYgKHRoaXMuaXRlbXNbaV1bY29sXSA9PSB2YWx1ZSkgewogICAgICAgICAgICBkZWwgPSBpOwogICAgICAgICAgICBicmVhazsKICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIGlmIChkZWwgIT0gdW5kZWZpbmVkKSB0aGlzLml0ZW1zLnNwbGljZShkZWwsIDEpOwogICAgICB9LAogICAgICBTZXRJbmZvOiBmdW5jdGlvbiBTZXRJbmZvKGl0bSkgewogICAgICAgIHRoaXMuaW5mbyA9IGl0bTsKICAgICAgfSwKICAgICAgQWRkU3RhcnQ6IGZ1bmN0aW9uIEFkZFN0YXJ0KGl0ZW0pIHsKICAgICAgICB0aGlzLml0ZW1zLnNwbGljZSgwLCAwLCBpdGVtKTsKICAgICAgfSwKICAgICAgQWRkOiBmdW5jdGlvbiBBZGQoaXRlbSkgewogICAgICAgIHRoaXMuaXRlbXMucHVzaChpdGVtKTsKICAgICAgfQogICAgfTsKICAgIHJldHVybiBsaXN0OwogIH0KfTs="},{"version":3,"sources":["E:/vue-projects/QFTest/qftest-front/src/others/ListManager.js"],"names":["conf","axios","Create","user","query","colName","count","desc","func","list","items","isLoading","isMore","info","undefined","Load","obj","q","me","length","point","post","API","then","itm","console","log","data","leng","i","push","Refresh","DeleteBy","col","value","del","splice","SetInfo","AddStart","item","Add"],"mappings":"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","sourcesContent":["//Менеджер загрузки списка\r\nimport conf from \"@/conf.js\";\r\nimport axios from \"axios\";\r\n\r\nexport default{\r\n  Create(user, query, colName, count, desc = true, func){\r\n    let list = {\r\n      items: [], //Элементы\r\n      isLoading: false, //Идет ли загрузка данных\r\n      isMore: true,//Есть ли еще контент для \r\n      info: undefined,\r\n      async Load() {\r\n        if (this.isLoading) return false;\r\n        this.isLoading = true;\r\n        let obj = {\r\n          q: query,\r\n          me: user,\r\n          desc,\r\n          count,\r\n        };\r\n        if(this.info) obj.info = this.info;\r\n        if (this.items.length > 0)\r\n        obj.point = this.items[this.items.length - 1][colName];\r\n        axios.post(conf.API, obj).then((itm) => {\r\n          console.log('ВОТ', itm.data);\r\n          if (itm.data?.data) {\r\n            if (itm.data.data.length > 0) {\r\n              let leng = itm.data?.data.length;\r\n              for (let i = 0; i < leng; i++) {\r\n                this.items.push(itm.data?.data[i]);\r\n              }\r\n              if (leng < obj.count) this.isMore = false;\r\n            } else {\r\n              this.isMore = false;\r\n            }\r\n          }\r\n          this.isLoading = false;\r\n          if(func) func();\r\n        });\r\n      },\r\n      Refresh(){\r\n        this.isMore = true;\r\n        this.items = [];\r\n        this.Load();\r\n      },\r\n      DeleteBy(col, value){ //Имя параметра, значение параметра\r\n        let del = undefined;\r\n        for (let i = 0; i < this.items.length; i++) {\r\n          if(this.items[i][col] == value){\r\n            del = i;\r\n            break;\r\n          }\r\n        }\r\n        if(del != undefined) this.items.splice(del, 1);\r\n      },\r\n      SetInfo(itm){\r\n        this.info = itm;\r\n      },\r\n      AddStart(item){\r\n        this.items.splice(0, 0, item);\r\n      },\r\n      Add(item){\r\n        this.items.push(item);\r\n      },\r\n    }\r\n    return list;\r\n  },\r\n  \r\n}"]}]}