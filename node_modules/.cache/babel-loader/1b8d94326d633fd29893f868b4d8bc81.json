{"remainingRequest":"D:\\vue-projects\\rutest\\node_modules\\thread-loader\\dist\\cjs.js!D:\\vue-projects\\rutest\\node_modules\\babel-loader\\lib\\index.js!D:\\vue-projects\\rutest\\node_modules\\vue-loader-v16\\dist\\templateLoader.js??ref--6!D:\\vue-projects\\rutest\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\vue-projects\\rutest\\node_modules\\vue-loader-v16\\dist\\index.js??ref--0-1!D:\\vue-projects\\rutest\\src\\components\\Menus\\ShareTest.vue?vue&type=template&id=6b97177a&scoped=true","dependencies":[{"path":"D:\\vue-projects\\rutest\\src\\components\\Menus\\ShareTest.vue","mtime":1624398907980},{"path":"D:\\vue-projects\\rutest\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\vue-projects\\rutest\\node_modules\\thread-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\vue-projects\\rutest\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"D:\\vue-projects\\rutest\\node_modules\\vue-loader-v16\\dist\\templateLoader.js","mtime":1616796459000},{"path":"D:\\vue-projects\\rutest\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\vue-projects\\rutest\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1616796459000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN5bWJvbC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN5bWJvbC5kZXNjcmlwdGlvbi5qcyI7CmltcG9ydCB7IHJlc29sdmVDb21wb25lbnQgYXMgX3Jlc29sdmVDb21wb25lbnQsIGNyZWF0ZVZOb2RlIGFzIF9jcmVhdGVWTm9kZSwgdG9EaXNwbGF5U3RyaW5nIGFzIF90b0Rpc3BsYXlTdHJpbmcsIG9wZW5CbG9jayBhcyBfb3BlbkJsb2NrLCBjcmVhdGVCbG9jayBhcyBfY3JlYXRlQmxvY2ssIGNyZWF0ZUNvbW1lbnRWTm9kZSBhcyBfY3JlYXRlQ29tbWVudFZOb2RlLCBjcmVhdGVUZXh0Vk5vZGUgYXMgX2NyZWF0ZVRleHRWTm9kZSwgd2l0aEN0eCBhcyBfd2l0aEN0eCwgd2l0aFNjb3BlSWQgYXMgX3dpdGhTY29wZUlkLCBwdXNoU2NvcGVJZCBhcyBfcHVzaFNjb3BlSWQsIHBvcFNjb3BlSWQgYXMgX3BvcFNjb3BlSWQgfSBmcm9tICJ2dWUiOwoKdmFyIF93aXRoSWQgPSAvKiNfX1BVUkVfXyovX3dpdGhTY29wZUlkKCJkYXRhLXYtNmI5NzE3N2EiKTsKCl9wdXNoU2NvcGVJZCgiZGF0YS12LTZiOTcxNzdhIik7Cgp2YXIgX2hvaXN0ZWRfMSA9IHsKICBrZXk6IDAKfTsKdmFyIF9ob2lzdGVkXzIgPSB7CiAgY2xhc3M6ICJpdG0tdGVzdC1tYWluLWluZm8iCn07CnZhciBfaG9pc3RlZF8zID0gewogIGNsYXNzOiAiY2FyZC10ZXN0LXRpdGxlIgp9Owp2YXIgX2hvaXN0ZWRfNCA9IHsKICBrZXk6IDAsCiAgY2xhc3M6ICJjYXJkLWRlc2NyaXB0aW9uIgp9OwoKdmFyIF9ob2lzdGVkXzUgPSAvKiNfX1BVUkVfXyovX2NyZWF0ZVZOb2RlKCJiciIsIG51bGwsIG51bGwsIC0xKTsKCnZhciBfaG9pc3RlZF82ID0gLyojX19QVVJFX18qL19jcmVhdGVWTm9kZSgiYnIiLCBudWxsLCBudWxsLCAtMSk7Cgp2YXIgX2hvaXN0ZWRfNyA9IC8qI19fUFVSRV9fKi9fY3JlYXRlVGV4dFZOb2RlKCLQntGC0L/RgNCw0LLQuNGC0YwiKTsKCl9wb3BTY29wZUlkKCk7CgpleHBvcnQgdmFyIHJlbmRlciA9IC8qI19fUFVSRV9fKi9fd2l0aElkKGZ1bmN0aW9uIChfY3R4LCBfY2FjaGUsICRwcm9wcywgJHNldHVwLCAkZGF0YSwgJG9wdGlvbnMpIHsKICB2YXIgXyRwcm9wcyRkYXRhLCBfJHByb3BzJGRhdGEkZGVzY3JpcHQ7CgogIHZhciBfY29tcG9uZW50X2l0X2F2YXRhciA9IF9yZXNvbHZlQ29tcG9uZW50KCJpdC1hdmF0YXIiKTsKCiAgdmFyIF9jb21wb25lbnRfaXRfdGV4dGFyZWEgPSBfcmVzb2x2ZUNvbXBvbmVudCgiaXQtdGV4dGFyZWEiKTsKCiAgdmFyIF9jb21wb25lbnRfaXRfdG9nZ2xlID0gX3Jlc29sdmVDb21wb25lbnQoIml0LXRvZ2dsZSIpOwoKICB2YXIgX2NvbXBvbmVudF9TZWxlY3RHcm91cHMgPSBfcmVzb2x2ZUNvbXBvbmVudCgiU2VsZWN0R3JvdXBzIik7CgogIHZhciBfY29tcG9uZW50X1Rlc3RQdWJsaXNoaW5nU2V0dGluZ3MgPSBfcmVzb2x2ZUNvbXBvbmVudCgiVGVzdFB1Ymxpc2hpbmdTZXR0aW5ncyIpOwoKICB2YXIgX2NvbXBvbmVudF9pdF9idXR0b24gPSBfcmVzb2x2ZUNvbXBvbmVudCgiaXQtYnV0dG9uIik7CgogIHJldHVybiAkcHJvcHMuZGF0YSA/IChfb3BlbkJsb2NrKCksIF9jcmVhdGVCbG9jaygiZGl2IiwgX2hvaXN0ZWRfMSwgW19jcmVhdGVWTm9kZSgiZGl2IiwgbnVsbCwgW19jcmVhdGVWTm9kZSgiZGl2IiwgX2hvaXN0ZWRfMiwgW19jcmVhdGVWTm9kZShfY29tcG9uZW50X2l0X2F2YXRhciwgewogICAgc3F1YXJlOiAiIiwKICAgIHNpemU6ICI0NXB4IiwKICAgIHRleHQ6ICRwcm9wcy5kYXRhLm5hbWUKICB9LCBudWxsLCA4LCBbInRleHQiXSksIF9jcmVhdGVWTm9kZSgiaDMiLCBfaG9pc3RlZF8zLCBbX2NyZWF0ZVZOb2RlKCJzcGFuIiwgbnVsbCwgX3RvRGlzcGxheVN0cmluZygkcHJvcHMuZGF0YS5uYW1lKSwgMSldKSwgKF8kcHJvcHMkZGF0YSA9ICRwcm9wcy5kYXRhKSAhPT0gbnVsbCAmJiBfJHByb3BzJGRhdGEgIT09IHZvaWQgMCAmJiAoXyRwcm9wcyRkYXRhJGRlc2NyaXB0ID0gXyRwcm9wcyRkYXRhLmRlc2NyaXB0aW9uKSAhPT0gbnVsbCAmJiBfJHByb3BzJGRhdGEkZGVzY3JpcHQgIT09IHZvaWQgMCAmJiBfJHByb3BzJGRhdGEkZGVzY3JpcHQubGVuZ3RoID8gKF9vcGVuQmxvY2soKSwgX2NyZWF0ZUJsb2NrKCJzcGFuIiwgX2hvaXN0ZWRfNCwgW19jcmVhdGVWTm9kZSgicHJlIiwgbnVsbCwgX3RvRGlzcGxheVN0cmluZygkcHJvcHMuZGF0YS5kZXNjcmlwdGlvbiksIDEpXSkpIDogX2NyZWF0ZUNvbW1lbnRWTm9kZSgiIiwgdHJ1ZSldKV0pLCBfY3JlYXRlVk5vZGUoX2NvbXBvbmVudF9pdF90ZXh0YXJlYSwgewogICAgY2xhc3M6ICJpdC1zaGFyZS10ZXN0LWNvbW1lbnQiLAogICAgbW9kZWxWYWx1ZTogJGRhdGEuY29tbWVudCwKICAgICJvblVwZGF0ZTptb2RlbFZhbHVlIjogX2NhY2hlWzFdIHx8IChfY2FjaGVbMV0gPSBmdW5jdGlvbiAoJGV2ZW50KSB7CiAgICAgIHJldHVybiAkZGF0YS5jb21tZW50ID0gJGV2ZW50OwogICAgfSksCiAgICAicmVzaXplLW9uLXdyaXRlIjogdHJ1ZSwKICAgIHJvd3M6IDEsCiAgICBwbGFjZWhvbGRlcjogItCa0L7QvNC80LXQvdGC0LDRgNC40LkiCiAgfSwgbnVsbCwgOCwgWyJtb2RlbFZhbHVlIl0pLCBfY3JlYXRlVk5vZGUoX2NvbXBvbmVudF9pdF90b2dnbGUsIHsKICAgIG1vZGVsVmFsdWU6ICRkYXRhLmN1clRhYiwKICAgICJvblVwZGF0ZTptb2RlbFZhbHVlIjogX2NhY2hlWzJdIHx8IChfY2FjaGVbMl0gPSBmdW5jdGlvbiAoJGV2ZW50KSB7CiAgICAgIHJldHVybiAkZGF0YS5jdXJUYWIgPSAkZXZlbnQ7CiAgICB9KSwKICAgIG9wdGlvbnM6IFsn0JPRgNGD0L/Qv9GLJywgJ9Cf0LDRgNCw0LzQtdGC0YDRiyddCiAgfSwgbnVsbCwgOCwgWyJtb2RlbFZhbHVlIl0pLCBfaG9pc3RlZF81LCAkZGF0YS5jdXJUYWIgPT0gJ9CT0YDRg9C/0L/RiycgPyAoX29wZW5CbG9jaygpLCBfY3JlYXRlQmxvY2soX2NvbXBvbmVudF9TZWxlY3RHcm91cHMsIHsKICAgIGtleTogMCwKICAgIGRhdGE6ICRkYXRhLmNhc2hHcm91cHMsCiAgICBjbGFzczogImVudGVyLXNob3ciLAogICAgb25DaGFuZ2U6ICRvcHRpb25zLm9uU2VsZWN0ZWRJdGVtcywKICAgIG9uQ2FzaDogJG9wdGlvbnMudG9DYXNoR3JvdXBzCiAgfSwgbnVsbCwgOCwgWyJkYXRhIiwgIm9uQ2hhbmdlIiwgIm9uQ2FzaCJdKSkgOiBfY3JlYXRlQ29tbWVudFZOb2RlKCIiLCB0cnVlKSwgJGRhdGEuY3VyVGFiID09ICfQn9Cw0YDQsNC80LXRgtGA0YsnID8gKF9vcGVuQmxvY2soKSwgX2NyZWF0ZUJsb2NrKF9jb21wb25lbnRfVGVzdFB1Ymxpc2hpbmdTZXR0aW5ncywgewogICAga2V5OiAxLAogICAgZGF0YTogJGRhdGEuY2FzaFNldHRpbmdzLAogICAgY2xhc3M6ICJlbnRlci1zaG93IiwKICAgIG9uQ2FzaDogJG9wdGlvbnMudG9DYXNoU2V0dGluZ3MKICB9LCBudWxsLCA4LCBbImRhdGEiLCAib25DYXNoIl0pKSA6IF9jcmVhdGVDb21tZW50Vk5vZGUoIiIsIHRydWUpLCBfaG9pc3RlZF82LCBfY3JlYXRlVk5vZGUoX2NvbXBvbmVudF9pdF9idXR0b24sIHsKICAgIG9uQ2xpY2s6ICRvcHRpb25zLnNoYXJlVGVzdHMsCiAgICBsb2FkaW5nOiAkZGF0YS5zaGFyaW5nVGVzdCwKICAgIHNpemU6ICJiaWciLAogICAgYmxvY2s6ICIiLAogICAgZGlzYWJsZWQ6ICEkZGF0YS5pc0J0blNoYXJlCiAgfSwgewogICAgZGVmYXVsdDogX3dpdGhJZChmdW5jdGlvbiAoKSB7CiAgICAgIHJldHVybiBbX2hvaXN0ZWRfN107CiAgICB9KSwKICAgIF86IDEKICB9LCA4LCBbIm9uQ2xpY2siLCAibG9hZGluZyIsICJkaXNhYmxlZCJdKV0pKSA6IF9jcmVhdGVDb21tZW50Vk5vZGUoIiIsIHRydWUpOwp9KTs="},{"version":3,"sources":["D:\\vue-projects\\rutest\\src\\components\\Menus\\ShareTest.vue"],"names":[],"mappings":";;;;;;;;;;;;;AAGW,EAAA,KAAK,EAAC;;;AAEL,EAAA,KAAK,EAAC;;;;AAG6B,EAAA,KAAK,EAAC;;;8BAS/C,YAAA,CAAI,IAAJ,EAAI,IAAJ,EAAI,IAAJ,EAAI,CAAA,CAAJ,C;;8BAGF,YAAA,CAAI,IAAJ,EAAI,IAAJ,EAAI,IAAJ,EAAI,CAAA,CAAJ,C;;+CAC+F,W;;;;;;;;;;;;;;;;;;;SApBtF,MAAA,CAAA,I,kBAAX,YAAA,CAqBM,KArBN,EAqBM,UArBN,EAqBM,CApBJ,YAAA,CAUM,KAVN,EAUM,IAVN,EAUM,CATJ,YAAA,CAQM,KARN,EAAA,UAAA,EAQM,CAPJ,YAAA,CAAkD,oBAAlD,EAAkD;AAAvC,IAAA,MAAM,EAAN,EAAuC;AAAhC,IAAA,IAAI,EAAC,MAA2B;AAAnB,IAAA,IAAI,EAAE,MAAA,CAAA,IAAA,CAAK;AAAQ,GAAlD,E,IAAA,E,CAAA,E,QAAA,CAOI,EANJ,YAAA,CAEK,IAFL,EAAA,UAAA,EAEK,CADH,YAAA,CAA4B,MAA5B,EAA4B,IAA5B,EAA4B,gBAAA,CAAnB,MAAA,CAAA,IAAA,CAAK,IAAc,CAA5B,EAAkB,CAAlB,CACG,CAFL,CAMI,E,gBAHQ,MAAA,CAAA,I,kEAAA,aAAM,W,kDAAN,sBAAmB,M,kBAA/B,YAAA,CAEO,MAFP,EAAA,UAAA,EAEO,CADL,YAAA,CAAiC,KAAjC,EAAiC,IAAjC,EAAiC,gBAAA,CAAzB,MAAA,CAAA,IAAA,CAAK,WAAoB,CAAjC,EAAwB,CAAxB,CACK,CAFP,C,iCAGI,CARN,CASI,CAVN,CAoBI,EATJ,YAAA,CAA0H,sBAA1H,EAA0H;AAA7G,IAAA,KAAK,EAAC,uBAAuG;gBAAtE,KAAA,CAAA,OAAsE;;aAAtE,KAAA,CAAA,OAAA,GAAO,M;MAA+D;AAA5D,uBAAiB,IAA2C;AAApC,IAAA,IAAI,EAAE,CAA8B;AAA3B,IAAA,WAAW,EAAC;AAAe,GAA1H,E,IAAA,E,CAAA,E,cAAA,CASI,EARJ,YAAA,CAGE,oBAHF,EAGE;gBAFS,KAAA,CAAA,MAET;;aAFS,KAAA,CAAA,MAAA,GAAM,M;MAEf;AADC,IAAA,OAAO,EAAE,CAAA,QAAA,EAAA,WAAA;AACV,GAHF,E,IAAA,E,CAAA,E,cAAA,CAQI,EALF,UAKE,EAJgB,KAAA,CAAA,MAAA,IAAM,Q,kBAA1B,YAAA,CAA6H,uBAA7H,EAA6H;UAAA;AAAtF,IAAA,IAAI,EAAE,KAAA,CAAA,UAAgF;AAApE,IAAA,KAAK,EAAC,YAA8D;AAAhD,IAAA,QAAM,EAAE,QAAA,CAAA,eAAwC;AAAtB,IAAA,MAAI,EAAE,QAAA,CAAA;AAAgB,GAA7H,E,IAAA,E,CAAA,E,8BAAA,C,iCAII,EAH0B,KAAA,CAAA,MAAA,IAAM,W,kBAApC,YAAA,CAAoH,iCAApH,EAAoH;UAAA;AAAhE,IAAA,IAAI,EAAE,KAAA,CAAA,YAA0D;AAA5C,IAAA,KAAK,EAAC,YAAsC;AAAxB,IAAA,MAAI,EAAE,QAAA,CAAA;AAAkB,GAApH,E,IAAA,E,CAAA,E,kBAAA,C,iCAGI,EAFJ,UAEI,EADJ,YAAA,CAAoH,oBAApH,EAAoH;AAAxG,IAAA,OAAK,EAAE,QAAA,CAAA,UAAiG;AAApF,IAAA,OAAO,EAAE,KAAA,CAAA,WAA2E;AAA9D,IAAA,IAAI,EAAC,KAAyD;AAAnD,IAAA,KAAK,EAAL,EAAmD;AAA5C,IAAA,QAAQ,EAAA,CAAG,KAAA,CAAA;AAAiC,GAApH,E;qBAA+F;AAAA,aAAS,C,UAAA,CAAT;AAAA,K;;GAA/F,E,CAAA,E,kCAAA,CACI,CArBN,C","sourcesContent":["<template>\r\n  <div v-if=\"data\">\r\n    <div>\r\n      <div class=\"itm-test-main-info\">\r\n        <it-avatar square size=\"45px\" :text=\"data.name\" />\r\n        <h3 class=\"card-test-title\">\r\n          <span>{{ data.name }}</span>\r\n        </h3>\r\n        <span v-if=\"data?.description?.length\" class=\"card-description\">\r\n          <pre>{{ data.description }}</pre>\r\n        </span>\r\n      </div>\r\n    </div>\r\n    <it-textarea class=\"it-share-test-comment\" v-model=\"comment\" :resize-on-write=\"true\" :rows=\"1\" placeholder=\"Комментарий\"/>\r\n    <it-toggle\r\n      v-model=\"curTab\"\r\n      :options=\"['Группы', 'Параметры']\"\r\n    /><br>\r\n    <SelectGroups v-if=\"curTab=='Группы'\" :data=\"cashGroups\" class=\"enter-show\" @change=\"onSelectedItems\" @cash=\"toCashGroups\" />\r\n    <TestPublishingSettings v-if=\"curTab=='Параметры'\" :data=\"cashSettings\" class=\"enter-show\" @cash=\"toCashSettings\" />\r\n    <br>\r\n    <it-button @click=\"shareTests\" :loading=\"sharingTest\" size=\"big\" block :disabled=\"!isBtnShare\">Отправить</it-button>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport SelectGroups from \"./SelectGroups.vue\";\r\nimport TestPublishingSettings from \"./TestPublishingSettings.vue\";\r\n\r\nexport default {\r\n  components: {\r\n    SelectGroups,\r\n    TestPublishingSettings,\r\n  },\r\n  props: [\"data\"],\r\n  data() {\r\n    return {\r\n      curTab: 'Группы',\r\n      comment: '',\r\n      sharingTest: false,\r\n      cashGroups: undefined,\r\n      cashSettings: undefined, \r\n      isBtnShare: false,\r\n      selectedGroups: [],\r\n    };\r\n  },\r\n  watch:{\r\n    selectedGroups(){\r\n      this.isBtnShare = this.selectedGroups.length > 0;\r\n    }\r\n  },\r\n  mounted(){\r\n    console.log(this.data);\r\n  },\r\n  methods:{\r\n    onSelectedItems(arr){\r\n      this.selectedGroups = arr;\r\n    },\r\n    toCashSettings(data){\r\n      this.cashSettings = data;\r\n    },\r\n    toCashGroups(data){\r\n      this.cashGroups = data;\r\n    },\r\n    shareTests(){\r\n      if(this.selectedGroups.length == 0 || this.sharingTest) return false;\r\n      this.sharingTest = true;\r\n      let obj = {\r\n        q: 'share_tests',\r\n        me: this.$store.state.ME.data,\r\n        groups: this.selectedGroups,\r\n        test_id: this.data.test_id,\r\n        settings: this.cashSettings,\r\n        comment: this.comment,\r\n      }\r\n      console.log(obj);\r\n      this.axios.post(window.c.API, obj).then(itm=>{\r\n        this.sharingTest = false;\r\n        if(itm.data?.data){\r\n          this.$Notification.success({\r\n            title: 'Тест опубликован',\r\n            placement: 'bottom-right',\r\n            text: \"Вы успешно опубликовали тест в выбранных группах\",\r\n          });\r\n          this.$emit('on-close');\r\n        }\r\n      });\r\n    }\r\n\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.it-share-test-comment{\r\n  margin: 8px 0px;\r\n}\r\n.it-avatar {\r\n  float: left;\r\n  margin-right: 6px;\r\n}\r\n.itm-test-main-info {\r\n  min-height: 45px;\r\n}\r\n\r\npre {\r\n  margin: 0px;\r\n}\r\nh3 {\r\n  margin: 0px;\r\n}\r\n.card-description {\r\n  max-height: 300px;\r\n  overflow-y: auto;\r\n}\r\n</style>\r\n"],"sourceRoot":""}]}