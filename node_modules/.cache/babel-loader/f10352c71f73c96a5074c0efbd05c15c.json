{"remainingRequest":"E:\\vue-projects\\rutest\\node_modules\\babel-loader\\lib\\index.js!E:\\vue-projects\\rutest\\node_modules\\vue-loader-v16\\dist\\templateLoader.js??ref--6!E:\\vue-projects\\rutest\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!E:\\vue-projects\\rutest\\node_modules\\vue-loader-v16\\dist\\index.js??ref--0-1!E:\\vue-projects\\rutest\\src\\components\\Units\\LoginForm.vue?vue&type=template&id=bc36e6e6","dependencies":[{"path":"E:\\vue-projects\\rutest\\src\\components\\Units\\LoginForm.vue","mtime":1641491806966},{"path":"E:\\vue-projects\\rutest\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\vue-projects\\rutest\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"E:\\vue-projects\\rutest\\node_modules\\vue-loader-v16\\dist\\templateLoader.js","mtime":1616796459000},{"path":"E:\\vue-projects\\rutest\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\vue-projects\\rutest\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1616796459000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHsgY3JlYXRlVk5vZGUgYXMgX2NyZWF0ZVZOb2RlLCByZXNvbHZlQ29tcG9uZW50IGFzIF9yZXNvbHZlQ29tcG9uZW50LCB3aXRoS2V5cyBhcyBfd2l0aEtleXMsIGNyZWF0ZVRleHRWTm9kZSBhcyBfY3JlYXRlVGV4dFZOb2RlLCB3aXRoQ3R4IGFzIF93aXRoQ3R4LCBvcGVuQmxvY2sgYXMgX29wZW5CbG9jaywgY3JlYXRlQmxvY2sgYXMgX2NyZWF0ZUJsb2NrIH0gZnJvbSAidnVlIjsKdmFyIF9ob2lzdGVkXzEgPSB7CiAgY2xhc3M6ICJsb2dpbi1mb3JtIgp9OwoKdmFyIF9ob2lzdGVkXzIgPSAvKiNfX1BVUkVfXyovX2NyZWF0ZVZOb2RlKCJiciIsIG51bGwsIG51bGwsIC0xCi8qIEhPSVNURUQgKi8KKTsKCnZhciBfaG9pc3RlZF8zID0gLyojX19QVVJFX18qL19jcmVhdGVWTm9kZSgiZGl2IiwgbnVsbCwgItCd0LXQvtCx0YXQvtC00LjQvNC+INCy0YvQv9C+0LvQvdC40YLRjCDQstGF0L7QtCIsIC0xCi8qIEhPSVNURUQgKi8KKTsKCnZhciBfaG9pc3RlZF80ID0gLyojX19QVVJFX18qL19jcmVhdGVWTm9kZSgiYnIiLCBudWxsLCBudWxsLCAtMQovKiBIT0lTVEVEICovCik7Cgp2YXIgX2hvaXN0ZWRfNSA9IC8qI19fUFVSRV9fKi9fY3JlYXRlVGV4dFZOb2RlKCLQktC+0LnRgtC4Iik7Cgp2YXIgX2hvaXN0ZWRfNiA9IC8qI19fUFVSRV9fKi9fY3JlYXRlVGV4dFZOb2RlKCLQktC+0LnRgtC4INGH0LXRgNC10Lcg0JLQutC+0L3RgtCw0LrRgtC1Iik7CgpleHBvcnQgZnVuY3Rpb24gcmVuZGVyKF9jdHgsIF9jYWNoZSwgJHByb3BzLCAkc2V0dXAsICRkYXRhLCAkb3B0aW9ucykgewogIHZhciBfY29tcG9uZW50X2l0X2lucHV0ID0gX3Jlc29sdmVDb21wb25lbnQoIml0LWlucHV0Iik7CgogIHZhciBfY29tcG9uZW50X2l0X2J1dHRvbiA9IF9yZXNvbHZlQ29tcG9uZW50KCJpdC1idXR0b24iKTsKCiAgdmFyIF9jb21wb25lbnRfaXRfZGl2aWRlciA9IF9yZXNvbHZlQ29tcG9uZW50KCJpdC1kaXZpZGVyIik7CgogIHJldHVybiBfb3BlbkJsb2NrKCksIF9jcmVhdGVCbG9jaygiZGl2IiwgX2hvaXN0ZWRfMSwgW19ob2lzdGVkXzIsIF9ob2lzdGVkXzMsIF9ob2lzdGVkXzQsIF9jcmVhdGVWTm9kZShfY29tcG9uZW50X2l0X2lucHV0LCB7CiAgICBwcmVmaXg6ICLQm9C+0LPQuNC9IiwKICAgIG1vZGVsVmFsdWU6ICRkYXRhLmxvZ2luLAogICAgIm9uVXBkYXRlOm1vZGVsVmFsdWUiOiBfY2FjaGVbMV0gfHwgKF9jYWNoZVsxXSA9IGZ1bmN0aW9uICgkZXZlbnQpIHsKICAgICAgcmV0dXJuICRkYXRhLmxvZ2luID0gJGV2ZW50OwogICAgfSksCiAgICBvbktleXVwOiBfd2l0aEtleXMoJG9wdGlvbnMuZ29Ub1Bhc3N3b3JkSW5wdXQsIFsiZW50ZXIiXSkKICB9LCBudWxsLCA4CiAgLyogUFJPUFMgKi8KICAsIFsibW9kZWxWYWx1ZSIsICJvbktleXVwIl0pLCBfY3JlYXRlVk5vZGUoX2NvbXBvbmVudF9pdF9pbnB1dCwgewogICAgcHJlZml4OiAi0J/QsNGA0L7Qu9GMIiwKICAgIHJlZjogInBhc3N3b3JkIiwKICAgIHR5cGU6ICJwYXNzd29yZCIsCiAgICBtb2RlbFZhbHVlOiAkZGF0YS5wYXNzd29yZCwKICAgICJvblVwZGF0ZTptb2RlbFZhbHVlIjogX2NhY2hlWzJdIHx8IChfY2FjaGVbMl0gPSBmdW5jdGlvbiAoJGV2ZW50KSB7CiAgICAgIHJldHVybiAkZGF0YS5wYXNzd29yZCA9ICRldmVudDsKICAgIH0pLAogICAgb25LZXl1cDogX3dpdGhLZXlzKCRvcHRpb25zLmVudGVyRGVmLCBbImVudGVyIl0pCiAgfSwgbnVsbCwgOAogIC8qIFBST1BTICovCiAgLCBbIm1vZGVsVmFsdWUiLCAib25LZXl1cCJdKSwgX2NyZWF0ZVZOb2RlKF9jb21wb25lbnRfaXRfYnV0dG9uLCB7CiAgICBibG9jazogIiIsCiAgICB0eXBlOiAncHJpbWFyeScsCiAgICBzdHlsZTogewogICAgICAiaGVpZ2h0IjogIjQxcHgiCiAgICB9LAogICAgb25DbGljazogJG9wdGlvbnMuZW50ZXJEZWYsCiAgICBvdXRsaW5lZDogIiIKICB9LCB7CiAgICBkZWZhdWx0OiBfd2l0aEN0eChmdW5jdGlvbiAoKSB7CiAgICAgIHJldHVybiBbX2hvaXN0ZWRfNV07CiAgICB9KSwKICAgIF86IDEKICAgIC8qIFNUQUJMRSAqLwoKICB9LCA4CiAgLyogUFJPUFMgKi8KICAsIFsib25DbGljayJdKSwgX2NyZWF0ZVZOb2RlKF9jb21wb25lbnRfaXRfZGl2aWRlciksIF9jcmVhdGVWTm9kZShfY29tcG9uZW50X2l0X2J1dHRvbiwgewogICAgYmxvY2s6ICIiLAogICAgdHlwZTogJ3ByaW1hcnknLAogICAgY2xhc3M6ICJoLWVudGVyLXZrIiwKICAgIG9uQ2xpY2s6ICRvcHRpb25zLmVudGVyVksKICB9LCB7CiAgICBkZWZhdWx0OiBfd2l0aEN0eChmdW5jdGlvbiAoKSB7CiAgICAgIHJldHVybiBbX2hvaXN0ZWRfNl07CiAgICB9KSwKICAgIF86IDEKICAgIC8qIFNUQUJMRSAqLwoKICB9LCA4CiAgLyogUFJPUFMgKi8KICAsIFsib25DbGljayJdKV0pOwp9"},{"version":3,"sources":["E:\\vue-projects\\rutest\\src\\components\\Units\\LoginForm.vue"],"names":[],"mappings":";;AACO,EAAA,KAAK,EAAC;;;8BACT,YAAA,CAAI,IAAJ,EAAI,IAAJ,EAAI,IAAJ,EAAI,CAAA;AAAA;AAAJ,C;;8BACA,YAAA,CAAoC,KAApC,EAAoC,IAApC,EAAK,2BAAL,EAA8B,CAAA;AAAA;AAA9B,C;;8BAAoC,YAAA,CAAI,IAAJ,EAAI,IAAJ,EAAI,IAAJ,EAAI,CAAA;AAAA;AAAJ,C;;+CAGgD,O;;+CAEb,uB;;;;;;;;;uBAPzE,YAAA,CAQM,KARN,EAAA,UAAA,EAQM,CAPJ,UAOI,EANJ,UAMI,EANgC,UAMhC,EALJ,YAAA,CAA2E,mBAA3E,EAA2E;AAAjE,IAAA,MAAM,EAAC,OAA0D;gBAAzC,KAAA,CAAA,KAAyC;;aAAzC,KAAA,CAAA,KAAA,GAAK,M;MAAoC;AAAjC,IAAA,OAAK,EAAA,SAAA,CAAQ,QAAA,CAAA,iBAAR,EAAyB,CAAA,OAAA,CAAzB;AAA4B,GAA3E,E,IAAA,E;;AAAA,I,yBAAA,CAKI,EAJJ,YAAA,CAAsG,mBAAtG,EAAsG;AAA5F,IAAA,MAAM,EAAC,QAAqF;AAA5E,IAAA,GAAG,EAAC,UAAwE;AAA7D,IAAA,IAAI,EAAC,UAAwD;gBAApC,KAAA,CAAA,QAAoC;;aAApC,KAAA,CAAA,QAAA,GAAQ,M;MAA4B;AAAzB,IAAA,OAAK,EAAA,SAAA,CAAQ,QAAA,CAAA,QAAR,EAAgB,CAAA,OAAA,CAAhB;AAAoB,GAAtG,E,IAAA,E;;AAAA,I,yBAAA,CAII,EAHJ,YAAA,CAAqG,oBAArG,EAAqG;AAA1F,IAAA,KAAK,EAAL,EAA0F;AAAnF,IAAA,IAAI,EAAE,SAA6E;AAAlE,IAAA,KAAqB,EAArB;AAAA,gBAAA;AAAA,KAAkE;AAA3C,IAAA,OAAK,EAAE,QAAA,CAAA,QAAoC;AAA1B,IAAA,QAAQ,EAAR;AAA0B,GAArG,E;sBAAoF;AAAA,aAAK,C,UAAA,CAAL;AAAA,K;;;;GAApF,E;;AAAA,I,WAAA,CAGI,EAFJ,YAAA,CAAa,qBAAb,CAEI,EADJ,YAAA,CAAwG,oBAAxG,EAAwG;AAA7F,IAAA,KAAK,EAAL,EAA6F;AAAtF,IAAA,IAAI,EAAE,SAAgF;AAArE,IAAA,KAAK,EAAC,YAA+D;AAAjD,IAAA,OAAK,EAAE,QAAA,CAAA;AAA0C,GAAxG,E;sBAAuE;AAAA,aAAqB,C,UAAA,CAArB;AAAA,K;;;;GAAvE,E;;AAAA,I,WAAA,CACI,CARN,C","sourcesContent":["<template>\r\n  <div class=\"login-form\">\r\n    <br>\r\n    <div>Необходимо выполнить вход</div><br>\r\n    <it-input prefix=\"Логин\" v-model=\"login\" @keyup.enter=\"goToPasswordInput\"/>\r\n    <it-input prefix=\"Пароль\" ref=\"password\" type=\"password\" v-model=\"password\" @keyup.enter=\"enterDef\" />\r\n    <it-button block :type=\"'primary'\" style='height: 41px;' @click=\"enterDef\" outlined>Войти</it-button>\r\n    <it-divider/>\r\n    <it-button block :type=\"'primary'\" class='h-enter-vk' @click=\"enterVK\">Войти через Вконтакте</it-button>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport {mapActions} from 'vuex'\r\n\r\nexport default {\r\n  setup() {\r\n    \r\n  },\r\n  data(){\r\n    return{\r\n      waitingLogin: false,\r\n      login: '',\r\n      password: '',\r\n    }\r\n  },\r\n  methods:{\r\n    ...mapActions([\"LOAD_USER\"]),\r\n    enterVK(){//Вход через Вконтакте\r\n      document.location = this.conf.VK_AUTH_URL;\r\n    },\r\n    enterDef(){//Вход через стандартный аккаунт\r\n      this.waitingLogin = true;\r\n      this.axios.post(this.conf.AUTH_URL, {\r\n        login: this.login,\r\n        password: this.password,\r\n        sn: 'def'\r\n      }).then(respon => {\r\n        this.waitingLogin = false;\r\n        if(!respon.data?.error){\r\n              localStorage.setItem('usr_id', respon.data.usr_id);\r\n              localStorage.setItem('mykey', respon.data.mykey);\r\n\r\n              this.LOAD_USER();\r\n              this.$router.push('/');\r\n        }else{\r\n          this.$error(\"Ошибка авторизации\", respon.data?.error || \"Неизвестная ошибка\");\r\n        }\r\n      }).catch(()=>{ \r\n        this.waitingLogin = false;\r\n        this.$error(\"Ошибка авторизации\", \"Проблемы с соединением\");\r\n        });\r\n    },\r\n    goToPasswordInput(){\r\n      let inp = this.$refs.password.$el.getElementsByTagName(\"input\");\r\n      if(inp){\r\n        inp[0].focus();\r\n      }\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style>\r\n.login-form .it-input-prefix-wrapper{\r\n  margin-bottom: 6px !important;\r\n}\r\n.h-enter-vk{\r\n  display: block;\r\n  height: 41px;\r\n}\r\n</style>"],"sourceRoot":""}]}