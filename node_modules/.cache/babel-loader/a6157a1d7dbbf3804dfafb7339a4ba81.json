{"remainingRequest":"D:\\vue-projects\\rutest\\node_modules\\babel-loader\\lib\\index.js!D:\\vue-projects\\rutest\\node_modules\\vue-loader-v16\\dist\\templateLoader.js??ref--6!D:\\vue-projects\\rutest\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\vue-projects\\rutest\\node_modules\\vue-loader-v16\\dist\\index.js??ref--0-1!D:\\vue-projects\\rutest\\src\\components\\Items\\GroupUser.vue?vue&type=template&id=9d93608a","dependencies":[{"path":"D:\\vue-projects\\rutest\\src\\components\\Items\\GroupUser.vue","mtime":1638886748240},{"path":"D:\\vue-projects\\rutest\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\vue-projects\\rutest\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"D:\\vue-projects\\rutest\\node_modules\\vue-loader-v16\\dist\\templateLoader.js","mtime":1616796459000},{"path":"D:\\vue-projects\\rutest\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\vue-projects\\rutest\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1616796459000},{"path":"D:\\vue-projects\\rutest\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\vue-projects\\rutest\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"D:\\vue-projects\\rutest\\node_modules\\vue-loader-v16\\dist\\templateLoader.js","mtime":1616796459000},{"path":"D:\\vue-projects\\rutest\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\vue-projects\\rutest\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1616796459000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHsgcmVzb2x2ZUNvbXBvbmVudCBhcyBfcmVzb2x2ZUNvbXBvbmVudCwgY3JlYXRlVk5vZGUgYXMgX2NyZWF0ZVZOb2RlLCB0b0Rpc3BsYXlTdHJpbmcgYXMgX3RvRGlzcGxheVN0cmluZywgb3BlbkJsb2NrIGFzIF9vcGVuQmxvY2ssIGNyZWF0ZUJsb2NrIGFzIF9jcmVhdGVCbG9jaywgY3JlYXRlQ29tbWVudFZOb2RlIGFzIF9jcmVhdGVDb21tZW50Vk5vZGUgfSBmcm9tICJ2dWUiOwp2YXIgX2hvaXN0ZWRfMSA9IHsKICBjbGFzczogInVzZXItaXRlbS1uYW1lLXJvdyIKfTsKdmFyIF9ob2lzdGVkXzIgPSB7CiAgY2xhc3M6ICJ1c2VyLW5hbWUiCn07CnZhciBfaG9pc3RlZF8zID0gewogIGtleTogMAp9OwpleHBvcnQgZnVuY3Rpb24gcmVuZGVyKF9jdHgsIF9jYWNoZSwgJHByb3BzLCAkc2V0dXAsICRkYXRhLCAkb3B0aW9ucykgewogIHZhciBfJHByb3BzJGRhdGEsIF8kcHJvcHMkZGF0YTIsIF8kcHJvcHMkZGF0YTM7CgogIHZhciBfY29tcG9uZW50X2l0X2F2YXRhciA9IF9yZXNvbHZlQ29tcG9uZW50KCJpdC1hdmF0YXIiKTsKCiAgdmFyIF9jb21wb25lbnRfU3BsaXRCdXR0b24gPSBfcmVzb2x2ZUNvbXBvbmVudCgiU3BsaXRCdXR0b24iKTsKCiAgcmV0dXJuIF9vcGVuQmxvY2soKSwgX2NyZWF0ZUJsb2NrKCJkaXYiLCBudWxsLCBbX2NyZWF0ZVZOb2RlKCJkaXYiLCBfaG9pc3RlZF8xLCBbX2NyZWF0ZVZOb2RlKF9jb21wb25lbnRfaXRfYXZhdGFyLCB7CiAgICBzcmM6IChfJHByb3BzJGRhdGEgPSAkcHJvcHMuZGF0YSkgPT09IG51bGwgfHwgXyRwcm9wcyRkYXRhID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfJHByb3BzJGRhdGEuYXZhdGFyCiAgfSwgbnVsbCwgOAogIC8qIFBST1BTICovCiAgLCBbInNyYyJdKSwgX2NyZWF0ZVZOb2RlKCJkaXYiLCBfaG9pc3RlZF8yLCBbX2NyZWF0ZVZOb2RlKCJzcGFuIiwgbnVsbCwgX3RvRGlzcGxheVN0cmluZygkb3B0aW9ucy51c2VyTmFtZSksIDEKICAvKiBURVhUICovCiAgKSwgJHByb3BzLmRhdGEucmVxX2lkID8gKF9vcGVuQmxvY2soKSwgX2NyZWF0ZUJsb2NrKCJzcGFuIiwgX2hvaXN0ZWRfMywgWygoXyRwcm9wcyRkYXRhMiA9ICRwcm9wcy5kYXRhKSA9PT0gbnVsbCB8fCBfJHByb3BzJGRhdGEyID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfJHByb3BzJGRhdGEyLmFjY2VwdGVkKSAhPSB1bmRlZmluZWQgPyAoX29wZW5CbG9jaygpLCBfY3JlYXRlQmxvY2soX2NvbXBvbmVudF9TcGxpdEJ1dHRvbiwgewogICAga2V5OiAwLAogICAgbGFiZWw6ICgoXyRwcm9wcyRkYXRhMyA9ICRwcm9wcy5kYXRhKSA9PT0gbnVsbCB8fCBfJHByb3BzJGRhdGEzID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfJHByb3BzJGRhdGEzLmFjY2VwdGVkKSA9PSAwID8gJ9Cf0YDQuNC90Y/RgtGMJyA6ICfQntGC0LrQu9C+0L3QuNGC0YwnLAogICAgbW9kZWw6ICRkYXRhLlJlcUFjdGlvbnMsCiAgICBvbkNsaWNrOiAkb3B0aW9ucy5hY2NlcHRVc2VyLAogICAgY2xhc3M6IFt7CiAgICAgICdwLWJ1dHRvbi1ncmF5JzogdGhpcy5kYXRhLmFjY2VwdGVkID09IDEKICAgIH0sICJwLWJ1dHRvbi1zZWNvbmRhcnkiXQogIH0sIG51bGwsIDgKICAvKiBQUk9QUyAqLwogICwgWyJsYWJlbCIsICJtb2RlbCIsICJvbkNsaWNrIiwgImNsYXNzIl0pKSA6IF9jcmVhdGVDb21tZW50Vk5vZGUoInYtaWYiLCB0cnVlKV0pKSA6IF9jcmVhdGVDb21tZW50Vk5vZGUoInYtaWYiLCB0cnVlKV0pXSldKTsKfQ=="},{"version":3,"sources":["D:\\vue-projects\\rutest\\src\\components\\Items\\GroupUser.vue"],"names":[],"mappings":";;AAES,EAAA,KAAK,EAAC;;;AAEJ,EAAA,KAAK,EAAC;;;;;;;;;;;;uBAHf,YAAA,CAgBM,KAhBN,EAgBM,IAhBN,EAgBM,CAfJ,YAAA,CAcM,KAdN,EAAA,UAAA,EAcM,CAbJ,YAAA,CAAiC,oBAAjC,EAAiC;AAArB,IAAA,GAAG,kBAAE,MAAA,CAAA,IAAF,iDAAE,aAAM;AAAU,GAAjC,E,IAAA,E;;AAAA,I,OAAA,CAaI,EAZJ,YAAA,CAWM,KAXN,EAAA,UAAA,EAWM,CAVJ,YAAA,CAA2B,MAA3B,EAA2B,IAA3B,EAA2B,gBAAA,CAAlB,QAAA,CAAA,QAAkB,CAA3B,EAAiB;AAAA;AAAjB,GAUI,EATQ,MAAA,CAAA,IAAA,CAAK,M,kBAAjB,YAAA,CAQS,MART,EAQS,UART,EAQS,CANC,kBAAA,MAAA,CAAA,IAAA,gEAAM,QAAN,KAAkB,S,kBADzB,YAAA,CAOD,sBAPC,EAOD;UAAA;AALG,IAAA,KAAK,EAAE,kBAAA,MAAA,CAAA,IAAA,gEAAM,QAAN,KAAc,CAAd,GAAc,SAAd,GAAc,WAKxB;AAJG,IAAA,KAAK,EAAE,KAAA,CAAA,UAIV;AAHG,IAAA,OAAK,EAAE,QAAA,CAAA,UAGV;AAFG,IAAA,KAAK,EAAA,CAAA;AAAA,uBAAA,KAAyB,IAAzB,CAA8B,QAA9B,IAAsC;AAAtC,KAAA,EACA,oBADA;AAER,GAPC,E,IAAA,E;;AAAA,I,sCAAA,C,qCAOM,CART,C,qCASI,CAXN,CAYI,CAdN,CAeI,CAhBN,C","sourcesContent":["<template>\r\n  <div>\r\n    <div class=\"user-item-name-row\">\r\n      <it-avatar :src=\"data?.avatar\" />\r\n      <div class=\"user-name\">\r\n        <span>{{ userName }}</span>\r\n        <span v-if=\"data.req_id\"\r\n          ><SplitButton\r\n            v-if=\"data?.accepted != undefined\"\r\n            :label=\"data?.accepted == 0 ? 'Принять' : 'Отклонить'\"\r\n            :model=\"ReqActions\"\r\n            @click=\"acceptUser\"\r\n            :class=\"{'p-button-gray': this.data.accepted == 1}\"\r\n            class=\"p-button-secondary\"\r\n        /></span>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport SplitButton from \"primevue/splitbutton\";\r\nexport default {\r\n  components: {\r\n    SplitButton,\r\n  },\r\n  props: [\"data\", \"index\"],\r\n  data() {\r\n    return {\r\n      isWaitingAction: false,\r\n      ReqActions: [\r\n        {\r\n          label: \"Изменить\",\r\n          icon: \"pi pi-pencil\",\r\n          command: () => {\r\n            if(this.isWaitingAction) return;\r\n            this.$emit('edit', this.index);\r\n          },\r\n        },\r\n        {\r\n          label: \"Удалить\",\r\n          icon: \"pi pi-times\",\r\n          command: () => {\r\n            if(this.isWaitingAction) return;\r\n            this.$emit('delete', this.index);\r\n          },\r\n        },\r\n        \r\n      ],\r\n    };\r\n  },\r\n  created(){},\r\n  computed: {\r\n    userName() {\r\n      return this.data?.name\r\n        ? this.data.name\r\n        : this.data.first_name + this.data.last_name;\r\n    },\r\n  },\r\n  methods:{\r\n    acceptUser(){\r\n      if(this.isWaitingAction) return;\r\n      this.isWaitingAction = true;\r\n      let obj = {\r\n        q: 'join_request_action',\r\n        me: this.$store.state.ME.data,\r\n        action: 'set_accepted',\r\n        accepted: this.data.accepted == false,\r\n        req_id: this.data.req_id,\r\n      }\r\n      console.log(obj);\r\n      this.axios.post(this.apiurl, obj).then(itm=>{\r\n        console.log(itm.data);\r\n        if(itm.data?.data){\r\n          this.$emit('update_item', itm.data.data, this?.index);\r\n          this.isWaitingAction = false;\r\n        }\r\n      });\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style>\r\n\r\n.p-button-gray.p-splitbutton button{\r\n  background-color: #F1F0F5 !important;\r\n  color: rgb(124, 124, 124) !important;\r\n  border-color: rgb(204, 204, 204) !important;\r\n}\r\n.user-item-name-row {\r\n  display: grid;\r\n  grid-template-columns: auto 1fr;\r\n}\r\n\r\n.user-item-name-row .user-name {\r\n  display: grid;\r\n  grid-template-columns: 1fr auto;\r\n  align-items: center;\r\n  margin: 3px 0px 3px 6px;\r\n}\r\n</style>"],"sourceRoot":""}]}