{"remainingRequest":"D:\\vue-projects\\rutest\\node_modules\\babel-loader\\lib\\index.js!D:\\vue-projects\\rutest\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\vue-projects\\rutest\\node_modules\\vue-loader-v16\\dist\\index.js??ref--0-1!D:\\vue-projects\\rutest\\src\\views\\pages\\TestEditor.vue?vue&type=script&lang=js","dependencies":[{"path":"D:\\vue-projects\\rutest\\src\\views\\pages\\TestEditor.vue","mtime":1642137458408},{"path":"D:\\vue-projects\\rutest\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\vue-projects\\rutest\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"D:\\vue-projects\\rutest\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\vue-projects\\rutest\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1616796459000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLmV4ZWMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcucmVwbGFjZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmZpbHRlci5qcyI7CmltcG9ydCBUZXN0UXVlc3RzIGZyb20gIi4uLy4uL2NvbXBvbmVudHMvVGVzdFF1ZXN0cyI7IC8vaW1wb3J0IEJ1dHRvbiBmcm9tICJwcmltZXZ1ZS9idXR0b24iOwoKaW1wb3J0IEltYWdlU2VsZWN0b3IgZnJvbSAiQC9jb21wb25lbnRzL01lbnVzL0ltYWdlU2VsZWN0b3IiOwppbXBvcnQgU2lkZWJhciBmcm9tICJwcmltZXZ1ZS9zaWRlYmFyIjsKZXhwb3J0IGRlZmF1bHQgewogIGNvbXBvbmVudHM6IHsKICAgIFRlc3RRdWVzdHM6IFRlc3RRdWVzdHMsCiAgICBTaWRlYmFyOiBTaWRlYmFyLAogICAgLy9CdXR0b24sCiAgICBJbWFnZVNlbGVjdG9yOiBJbWFnZVNlbGVjdG9yCiAgfSwKICBjb21wdXRlZDogewogICAgTVlJRDogZnVuY3Rpb24gTVlJRCgpIHsKICAgICAgcmV0dXJuIHRoaXMuJHN0b3JlLmdldHRlcnMuTVlJRDsKICAgIH0KICB9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBpc0ltYWdlU2VsZWN0b3I6IGZhbHNlLAogICAgICB0ZXN0OiB1bmRlZmluZWQsCiAgICAgIGVycm9yOiBmYWxzZSwKICAgICAgZm9sZGVyOiB1bmRlZmluZWQsCiAgICAgIGlzRm9sZGVyOiBmYWxzZQogICAgfTsKICB9LAogIGJlZm9yZVJvdXRlTGVhdmU6IGZ1bmN0aW9uIGJlZm9yZVJvdXRlTGVhdmUoKSB7CiAgICByZXR1cm4gY29uZmlybSgi0JLRiyDRg9Cy0LXRgNC10L3Riywg0YfRgtC+INGF0L7RgtC40YLQtSDRg9C50YLQuD8iKTsKICB9LAogIG1ldGhvZHM6IHsKICAgIFNhdmVUZXN0OiBmdW5jdGlvbiBTYXZlVGVzdCgpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIHZhciBvYmogPSB7CiAgICAgICAgcTogInRlc3Rfc2F2ZSIsCiAgICAgICAgbWU6IHRoaXMuJHN0b3JlLnN0YXRlLk1FLmRhdGEsCiAgICAgICAgdGVzdDogdGhpcy50ZXN0CiAgICAgIH07CiAgICAgIHRoaXMuYXhpb3MucG9zdCh0aGlzLmFwaXVybCwgb2JqKS50aGVuKGZ1bmN0aW9uIChpdG0pIHsKICAgICAgICB2YXIgX2l0bSRkYXRhOwoKICAgICAgICBjb25zb2xlLmxvZyhpdG0uZGF0YSk7CgogICAgICAgIGlmICgoX2l0bSRkYXRhID0gaXRtLmRhdGEpICE9PSBudWxsICYmIF9pdG0kZGF0YSAhPT0gdm9pZCAwICYmIF9pdG0kZGF0YS5kYXRhKSB7CiAgICAgICAgICB2YXIgX2l0bSRkYXRhMjsKCiAgICAgICAgICB2YXIgdGVzdF9pZCA9IChfaXRtJGRhdGEyID0gaXRtLmRhdGEpID09PSBudWxsIHx8IF9pdG0kZGF0YTIgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9pdG0kZGF0YTIuZGF0YTsKCiAgICAgICAgICBfdGhpcy4kcm91dGVyLnJlcGxhY2UoewogICAgICAgICAgICBwYXRoOiAiL3Rlc3QvIi5jb25jYXQodGVzdF9pZCwgIi9lZGl0b3IiKQogICAgICAgICAgfSk7CgogICAgICAgICAgX3RoaXMuJHN1Y2Nlc3MoItCh0L7RhdGA0LDQvdC10L3QuNC1INGC0LXRgdGC0LAiLCAi0KLQtdGB0YIg0LHRi9C7INGD0YHQv9C10YjQvdC+INGB0L7RhdGA0LDQvdC10L0iKTsKICAgICAgICB9CiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uICgpIHsKICAgICAgICBfdGhpcy4kZXJyb3IoItCe0YjQuNCx0LrQsCDRgdC+0YXRgNCw0L3QtdC90LjRjyDRgtC10YHRgtCwIiwgItCf0YDQuCDRgdC+0YXRgNCw0L3QtdC90LjQuCDRgtC10YHRgtCwINC/0L7QuNC30L7RiNC70LAg0L7RiNC40LHQutCwIik7CiAgICAgIH0pOwogICAgfSwKICAgIFNlbGVjdEltYWdlOiBmdW5jdGlvbiBTZWxlY3RJbWFnZShpbWcpIHsKICAgICAgaWYgKHRoaXMudGVzdCAhPSB1bmRlZmluZWQpIHsKICAgICAgICB0aGlzLnRlc3QuaWNvX3VybCA9IGltZy51cmw7CiAgICAgICAgdGhpcy50ZXN0LmljbyA9IGltZy5pbWdfaWQ7CiAgICAgIH0KICAgIH0sCiAgICBTZXRCb2R5OiBmdW5jdGlvbiBTZXRCb2R5KGl0ZW1zKSB7CiAgICAgIHZhciBfdGhpcyR0ZXN0OwoKICAgICAgaWYgKChfdGhpcyR0ZXN0ID0gdGhpcy50ZXN0KSAhPT0gbnVsbCAmJiBfdGhpcyR0ZXN0ICE9PSB2b2lkIDAgJiYgX3RoaXMkdGVzdC5ib2R5KSB7CiAgICAgICAgdGhpcy50ZXN0LmJvZHkgPSBpdGVtczsKICAgICAgfQogICAgfSwKICAgIFNldEJvZHlGb2xkZXI6IGZ1bmN0aW9uIFNldEJvZHlGb2xkZXIoaXRlbXMpIHsKICAgICAgaWYgKHRoaXMgIT09IG51bGwgJiYgdGhpcyAhPT0gdm9pZCAwICYmIHRoaXMuZm9sZGVyKSB7CiAgICAgICAgdGhpcy5mb2xkZXIuYm9keSA9IGl0ZW1zOwogICAgICB9CgogICAgICBjb25zb2xlLmxvZyhpdGVtcyk7CiAgICB9CiAgfSwKICB3YXRjaDogewogICAgJ2lzRm9sZGVyJzogZnVuY3Rpb24gaXNGb2xkZXIobmV3VikgewogICAgICB2YXIgX3RoaXMkJHJvdXRlJHF1ZXJ5OwoKICAgICAgaWYgKCFuZXdWICYmIChfdGhpcyQkcm91dGUkcXVlcnkgPSB0aGlzLiRyb3V0ZS5xdWVyeSkgIT09IG51bGwgJiYgX3RoaXMkJHJvdXRlJHF1ZXJ5ICE9PSB2b2lkIDAgJiYgX3RoaXMkJHJvdXRlJHF1ZXJ5LmZvbGRlcikgewogICAgICAgIHRoaXMuJHJvdXRlci5nbygtMSk7CiAgICAgIH0KCiAgICAgIHJldHVybiB0aGlzLmlzRm9sZGVyOwogICAgfSwKICAgICckcm91dGUucXVlcnknOiBmdW5jdGlvbiAkcm91dGVRdWVyeSgpIHsKICAgICAgdmFyIF90aGlzJCRyb3V0ZSRxdWVyeTIsCiAgICAgICAgICBfdGhpczIgPSB0aGlzOwoKICAgICAgaWYgKChfdGhpcyQkcm91dGUkcXVlcnkyID0gdGhpcy4kcm91dGUucXVlcnkpICE9PSBudWxsICYmIF90aGlzJCRyb3V0ZSRxdWVyeTIgIT09IHZvaWQgMCAmJiBfdGhpcyQkcm91dGUkcXVlcnkyLmZvbGRlcikgewogICAgICAgIHZhciBmbGQgPSB0aGlzID09PSBudWxsIHx8IHRoaXMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHRoaXMudGVzdC5ib2R5LmZpbHRlcihmdW5jdGlvbiAoaXRlbSkgewogICAgICAgICAgdmFyIF90aGlzMiQkcm91dGUkcXVlcnk7CgogICAgICAgICAgcmV0dXJuIGl0ZW0uaWQgPT0gKChfdGhpczIkJHJvdXRlJHF1ZXJ5ID0gX3RoaXMyLiRyb3V0ZS5xdWVyeSkgPT09IG51bGwgfHwgX3RoaXMyJCRyb3V0ZSRxdWVyeSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX3RoaXMyJCRyb3V0ZSRxdWVyeS5mb2xkZXIpICYmIGl0ZW0udHlwZSA9PSAnRm9sZGVyJzsKICAgICAgICB9KTsKCiAgICAgICAgaWYgKGZsZC5sZW5ndGggPT0gMSkgewogICAgICAgICAgdGhpcy5mb2xkZXIgPSBmbGRbMF07CiAgICAgICAgICB0aGlzLmlzRm9sZGVyID0gdHJ1ZTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgdGhpcy5mb2xkZXIgPSB1bmRlZmluZWQ7CiAgICAgICAgICB0aGlzLmlzRm9sZGVyID0gZmFsc2U7CiAgICAgICAgfQogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMuZm9sZGVyID0gdW5kZWZpbmVkOwogICAgICAgIHRoaXMuaXNGb2xkZXIgPSBmYWxzZTsKICAgICAgfQoKICAgICAgcmV0dXJuIHRoaXMuJHJvdXRlLnF1ZXJ5OwogICAgfQogIH0sCiAgY3JlYXRlZDogZnVuY3Rpb24gY3JlYXRlZCgpIHsKICAgIHZhciBfdGhpczMgPSB0aGlzOwoKICAgIGlmICh0aGlzLiRyb3V0ZS5wYXJhbXMuaWQgPT0gIm5ldyIpIHsKICAgICAgdGhpcy50ZXN0ID0gewogICAgICAgIHRlc3RfaWQ6IHRoaXMuJHJvdXRlLnBhcmFtcy5pZCwKICAgICAgICB1c3JfaWQ6IHRoaXMuTVlJRCwKICAgICAgICBuYW1lOiAi0J3QvtCy0YvQuSDRgtC10YHRgiIsCiAgICAgICAgZGVzY3JpcHRpb246ICIiLAogICAgICAgIGJvZHk6IFtdCiAgICAgIH07CiAgICB9IGVsc2UgewogICAgICB2YXIgb2JqID0gewogICAgICAgIHE6ICJnZXRfdGVzdF9lZGl0b3IiLAogICAgICAgIG1lOiB0aGlzLiRzdG9yZS5zdGF0ZS5NRS5kYXRhLAogICAgICAgIHRlc3RfaWQ6IHRoaXMuJHJvdXRlLnBhcmFtcy5pZAogICAgICB9OwogICAgICB0aGlzLmF4aW9zLnBvc3QodGhpcy5hcGl1cmwsIG9iaikudGhlbihmdW5jdGlvbiAoaXRtKSB7CiAgICAgICAgdmFyIF9pdG0kZGF0YTMsIF9pdG0kZGF0YTQ7CgogICAgICAgIGNvbnNvbGUubG9nKGl0bS5kYXRhKTsKCiAgICAgICAgaWYgKChfaXRtJGRhdGEzID0gaXRtLmRhdGEpICE9PSBudWxsICYmIF9pdG0kZGF0YTMgIT09IHZvaWQgMCAmJiBfaXRtJGRhdGEzLmRhdGEpIHsKICAgICAgICAgIF90aGlzMy50ZXN0ID0gaXRtLmRhdGEuZGF0YTsKICAgICAgICB9IGVsc2UgaWYgKChfaXRtJGRhdGE0ID0gaXRtLmRhdGEpICE9PSBudWxsICYmIF9pdG0kZGF0YTQgIT09IHZvaWQgMCAmJiBfaXRtJGRhdGE0LmVycm9yKSB7CiAgICAgICAgICBfdGhpczMuZXJyb3IgPSBpdG0uZGF0YS5lcnJvcjsKICAgICAgICB9CiAgICAgIH0pOwogICAgfQogIH0KfTs="},{"version":3,"sources":["D:\\vue-projects\\rutest\\src\\views\\pages\\TestEditor.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <div v-if=\"MYID\">\n    <div v-if=\"test != undefined\">\n      <block class=\"test-header-wrapper\">\n        <div>\n          <it-avatar\n            class=\"test-ico-full\"\n            style=\"cursor: pointer\"\n            size=\"100px\"\n            square\n            :src=\"test?.ico_url\"\n            :text=\"test.name\"\n            @click=\"isImageSelector = true\"\n          />\n        </div>\n        <div>\n          <it-input v-model=\"test.name\" placeholder=\"Название\"></it-input>\n          <it-textarea\n            v-model=\"test.description\"\n            :resize-on-write=\"true\"\n            placeholder=\"Описание\"\n          ></it-textarea>\n        </div>\n      </block>\n      <TestQuests :data=\"test.body\" :mode=\"'editor'\" @change-list=\"SetBody\" />\n      <block>\n        <it-button block @click=\"SaveTest\">Сохранить</it-button>\n      </block>\n    </div>\n    <div v-else-if=\"error == false\" class=\"center-loading\">\n      <it-loading></it-loading><br />\n      <div>Загрузка</div>\n    </div>\n    <div v-else>\n      <block>\n        <it-alert\n          type=\"danger\"\n          :title=\"'Ошибка'\"\n          :body=\"'У вас нет доступа к этому объекту'\"\n        />\n      </block>\n    </div>\n    <it-modal v-model=\"isImageSelector\">\n      <template #header>\n        <h3 style=\"margin: 0px\">Выбор изображения</h3>\n      </template>\n      <template #body>\n        <ImageSelector @select=\"SelectImage\" @close=\"isImageSelector = false\" img-type='ico' />\n      </template>\n      <template #actions>\n        <it-button @click=\"isImageSelector = false\">Отмена</it-button>\n        <!-- <it-button :loading=\"isDeletingGTest\" @click=\"DeleteGTest\" type=\"danger\">Удалить</it-button> -->\n      </template>\n    </it-modal>\n    <Sidebar\n      v-model:visible=\"isFolder\"\n      position=\"bottom\"\n      class=\"win-result\"\n    >\n      <div class=\"sidebar-conent-center\">\n        <main class=\"main\">\n          <TestQuests :data=\"folder?.body\" :mode=\"'editor'\" @change-list=\"SetBodyFolder\" />\n        </main>\n      </div>\n    </Sidebar>\n  </div>\n  <div v-else>\n    <block>\n      <it-alert\n        type=\"danger\"\n        :title=\"'Нет доступа'\"\n        :body=\"'Необходимо авторизироваться'\"\n      />\n    </block>\n  </div>\n</template>\n\n<script>\nimport TestQuests from \"../../components/TestQuests\";\n//import Button from \"primevue/button\";\nimport ImageSelector from \"@/components/Menus/ImageSelector\";\nimport Sidebar from \"primevue/sidebar\";\n\nexport default {\n  components: {\n    TestQuests,\n    Sidebar,\n    //Button,\n    ImageSelector,\n  },\n  computed: {\n    MYID() {\n      return this.$store.getters.MYID;\n    },\n  },\n  data() {\n    return {\n      isImageSelector: false,\n      test: undefined,\n      error: false,\n\n      folder: undefined,\n      isFolder: false,\n    };\n  },\n  beforeRouteLeave() {\n    return confirm(\"Вы уверены, что хотите уйти?\");\n  },\n  methods: {\n    SaveTest() {\n      let obj = {\n        q: \"test_save\",\n        me: this.$store.state.ME.data,\n        test: this.test,\n      };\n      this.axios.post(this.apiurl, obj).then((itm) => {\n        console.log(itm.data);\n        if (itm.data?.data) {\n          let test_id = itm.data?.data;\n          this.$router.replace({ path: `/test/${test_id}/editor` });\n          this.$success(\"Сохранение теста\", \"Тест был успешно сохранен\");\n        }\n      }).catch(()=>{\n        this.$error(\"Ошибка сохранения теста\", \"При сохранении теста поизошла ошибка\");\n      });\n    },\n    SelectImage(img) {\n      if (this.test != undefined) {\n        this.test.ico_url = img.url;\n        this.test.ico = img.img_id;\n      }\n    },\n    SetBody(items){\n      if(this.test?.body){\n        this.test.body = items;\n      }\n        \n    },\n    SetBodyFolder(items){\n      if(this?.folder){\n        this.folder.body = items;\n      }\n      console.log(items);\n    }\n  },\n  watch: {\n    'isFolder'(newV){\n      if(!newV && this.$route.query?.folder){\n        this.$router.go(-1);\n      }\n      return this.isFolder;\n    },\n    '$route.query': function(){\n      if(this.$route.query?.folder){\n        let fld = this?.test.body.filter((item)=>{return item.id == this.$route.query?.folder && item.type == 'Folder'});\n        if(fld.length == 1){\n          this.folder = fld[0];\n          this.isFolder = true;\n        }else{\n          this.folder = undefined;\n          this.isFolder = false;\n        }\n      }else{\n        this.folder = undefined;\n        this.isFolder = false;\n      }\n      return this.$route.query;\n    },\n  },\n  created() {\n    if (this.$route.params.id == \"new\") {\n      this.test = {\n        test_id: this.$route.params.id,\n        usr_id: this.MYID,\n        name: \"Новый тест\",\n        description: \"\",\n        body: [],\n      };\n    } else {\n      let obj = {\n        q: \"get_test_editor\",\n        me: this.$store.state.ME.data,\n        test_id: this.$route.params.id,\n      };\n      this.axios.post(this.apiurl, obj).then((itm) => {\n        console.log(itm.data);\n        if (itm.data?.data) {\n          this.test = itm.data.data;\n        } else if (itm.data?.error) {\n          this.error = itm.data.error;\n        }\n      });\n    }\n  },\n};\n</script>\n\n<style>\n.test-header-wrapper .content{\n  display: grid;\n  grid-template-columns: 110px 1fr;\n}\ntextarea.it-textarea {\n  overflow: hidden !important;\n}\n\n\n.win-result.p-sidebar {\n  height: 100vh !important;\n  background-color: rgb(206, 206, 206);\n}\n.win-result .p-sidebar-header {\n  box-shadow: 0px 8px 8px #cecece;\n  z-index: 1;\n}\n.win-result .p-sidebar-header::before{\n  content: 'Папка';\n  font-size: 22px;\n  background-color: white;\n  padding: 6px;\n  margin-top: -4px;\n  border-radius: 6px;\n  position: absolute;\n  left: 10px;\n}\n.win-result .sidebar-conent-center {\n  max-width: 700px;\n  margin: auto;\n}\n.win-result .p-sidebar-content {\n  margin: 0px;\n  padding: 0px;\n}\n</style>\n"],"sourceRoot":""}]}