{"remainingRequest":"E:\\vue-projects\\QFTest\\qftest-front\\node_modules\\babel-loader\\lib\\index.js!E:\\vue-projects\\QFTest\\qftest-front\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!E:\\vue-projects\\QFTest\\qftest-front\\node_modules\\vue-loader-v16\\dist\\index.js??ref--0-1!E:\\vue-projects\\QFTest\\qftest-front\\src\\views\\pages\\TestBasic.vue?vue&type=script&lang=js","dependencies":[{"path":"E:\\vue-projects\\QFTest\\qftest-front\\src\\views\\pages\\TestBasic.vue","mtime":1647388266182},{"path":"E:\\vue-projects\\QFTest\\qftest-front\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1647388190513},{"path":"E:\\vue-projects\\QFTest\\qftest-front\\node_modules\\babel-loader\\lib\\index.js","mtime":1647388184590},{"path":"E:\\vue-projects\\QFTest\\qftest-front\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1647388190513},{"path":"E:\\vue-projects\\QFTest\\qftest-front\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1647388262278}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkU6L3Z1ZS1wcm9qZWN0cy9RRlRlc3QvcWZ0ZXN0LWZyb250L25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLmV4ZWMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcucmVwbGFjZS5qcyI7CmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lLmpzIjsKaW1wb3J0IFRlc3RRdWVzdHMgZnJvbSAiLi4vLi4vY29tcG9uZW50cy9UZXN0UXVlc3RzIjsKaW1wb3J0IHsgZ2V0Tm9ybWFsRGF0ZSB9IGZyb20gIkAvb3RoZXJzL2hlbHBlcnMiOwppbXBvcnQgQmxvY2sgZnJvbSAnLi4vLi4vY29tcG9uZW50cy9CbG9jay52dWUnOwppbXBvcnQgQnV0dG9uIGZyb20gInByaW1ldnVlL2J1dHRvbiI7CmltcG9ydCBCbG9ja1VJIGZyb20gJ3ByaW1ldnVlL2Jsb2NrdWknOwpleHBvcnQgZGVmYXVsdCB7CiAgY29tcG9uZW50czogewogICAgVGVzdFF1ZXN0czogVGVzdFF1ZXN0cywKICAgIEJsb2NrOiBCbG9jaywKICAgIEJ1dHRvbjogQnV0dG9uLAogICAgQmxvY2tVSTogQmxvY2tVSQogIH0sCiAgY29tcHV0ZWQ6IHsKICAgIE1ZSUQ6IGZ1bmN0aW9uIE1ZSUQoKSB7CiAgICAgIHJldHVybiB0aGlzLiRzdG9yZS5nZXR0ZXJzLk1ZSUQ7CiAgICB9CiAgfSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgaXNMb2FkaW5nOiBmYWxzZSwKICAgICAgaXNSZXN1bHRTYXZpbmc6IGZhbHNlLAogICAgICBpbmZvOiB1bmRlZmluZWQsCiAgICAgIHRlc3Q6IHVuZGVmaW5lZCwKICAgICAgdGltZUxlZnQ6IHVuZGVmaW5lZCwKICAgICAgc2Vjb25kc0xlZnQ6IHVuZGVmaW5lZCwKICAgICAgdGltZUludGVydmFsOiB1bmRlZmluZWQsCiAgICAgIHNhdmVUZXN0U2Vjb25kczogNjAKICAgIH07CiAgfSwKICBtZXRob2RzOiB7CiAgICBnZXROb3JtYWxEYXRlOiBnZXROb3JtYWxEYXRlLAogICAgc3RhcnRUaW1lcjogZnVuY3Rpb24gc3RhcnRUaW1lcigpIHsKICAgICAgdmFyIF90aGlzJHRlc3QsCiAgICAgICAgICBfdGhpcyA9IHRoaXM7CgogICAgICBpZiAoKF90aGlzJHRlc3QgPSB0aGlzLnRlc3QpICE9PSBudWxsICYmIF90aGlzJHRlc3QgIT09IHZvaWQgMCAmJiBfdGhpcyR0ZXN0LmR1cmF0aW9uX3RpbWUpIHsKICAgICAgICB2YXIgX3RoaXMkdGVzdDI7CgogICAgICAgIHRoaXMuY29tcHV0ZVRpbWVMZWZ0KCk7CgogICAgICAgIGlmICgodGhpcyA9PT0gbnVsbCB8fCB0aGlzID09PSB2b2lkIDAgPyB2b2lkIDAgOiB0aGlzLnRpbWVJbnRlcnZhbCkgIT0gdW5kZWZpbmVkKSB7CiAgICAgICAgICBjbGVhckludGVydmFsKHRoaXMudGltZUludGVydmFsKTsKICAgICAgICAgIGNvbnNvbGUubG9nKCdjbGVhckludGVydmFsJyk7CiAgICAgICAgfQoKICAgICAgICB0aGlzLnRpbWVJbnRlcnZhbCA9IChfdGhpcyR0ZXN0MiA9IHRoaXMudGVzdCkgIT09IG51bGwgJiYgX3RoaXMkdGVzdDIgIT09IHZvaWQgMCAmJiBfdGhpcyR0ZXN0Mi5kdXJhdGlvbl90aW1lID8gc2V0SW50ZXJ2YWwoZnVuY3Rpb24gKCkgewogICAgICAgICAgX3RoaXMuY29tcHV0ZVRpbWVMZWZ0KCk7CiAgICAgICAgfSwgMTAwMCkgOiB1bmRlZmluZWQ7IC8v0KPRgdGC0LDQvdC+0LLQsCDRgdGH0LXRgtGH0LjQutCwINCy0YDQtdC80LXQvdC4CiAgICAgIH0KICAgIH0sCiAgICBjb21wdXRlVGltZUxlZnQ6IGZ1bmN0aW9uIGNvbXB1dGVUaW1lTGVmdCgpIHsKICAgICAgdmFyIF90aGlzJHRlc3QzLCBfdGhpcyR0ZXN0NDsKCiAgICAgIGNvbnNvbGUubG9nKCfQodC10LrRg9C90LTQsCcpOwoKICAgICAgaWYgKHRoaXMudGVzdCAmJiB0aGlzICE9PSBudWxsICYmIHRoaXMgIT09IHZvaWQgMCAmJiAoX3RoaXMkdGVzdDMgPSB0aGlzLnRlc3QpICE9PSBudWxsICYmIF90aGlzJHRlc3QzICE9PSB2b2lkIDAgJiYgX3RoaXMkdGVzdDMuZHVyYXRpb25fdGltZSAmJiB0aGlzICE9PSBudWxsICYmIHRoaXMgIT09IHZvaWQgMCAmJiAoX3RoaXMkdGVzdDQgPSB0aGlzLnRlc3QpICE9PSBudWxsICYmIF90aGlzJHRlc3Q0ICE9PSB2b2lkIDAgJiYgX3RoaXMkdGVzdDQuZGF0ZV9jcmVhdGVkKSB7CiAgICAgICAgdmFyIF90aGlzJHRlc3Q1LCBfdGhpcyR0ZXN0NjsKCiAgICAgICAgdmFyIHRjID0gbmV3IERhdGUoKTsKICAgICAgICB2YXIgdGkgPSBuZXcgRGF0ZShEYXRlLnBhcnNlKHRoaXMgPT09IG51bGwgfHwgdGhpcyA9PT0gdm9pZCAwID8gdm9pZCAwIDogKF90aGlzJHRlc3Q1ID0gdGhpcy50ZXN0KSA9PT0gbnVsbCB8fCBfdGhpcyR0ZXN0NSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX3RoaXMkdGVzdDUuZGF0ZV9jcmVhdGVkKSk7CiAgICAgICAgdmFyIHNlYyA9ICh0aGlzID09PSBudWxsIHx8IHRoaXMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IChfdGhpcyR0ZXN0NiA9IHRoaXMudGVzdCkgPT09IG51bGwgfHwgX3RoaXMkdGVzdDYgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF90aGlzJHRlc3Q2LmR1cmF0aW9uX3RpbWUpICogNjAgLSBNYXRoLmZsb29yKCh0YyAtIHRpKSAvIDEwMDApOwogICAgICAgIHRoaXMuc2F2ZVRlc3RTZWNvbmRzLS07CiAgICAgICAgdGhpcy5zZWNvbmRzTGVmdCA9IHNlYzsKICAgICAgICB0aGlzLnRpbWVMZWZ0ID0gKHNlYyAvIDYwID49IDEgPyBNYXRoLmZsb29yKHNlYyAvIDYwKSArICLQvC4gIiA6ICcnKSArIChzZWMgJSA2MCArICdjLicpOwoKICAgICAgICBpZiAodGhpcy5zYXZlVGVzdFNlY29uZHMgPT0gMCkgewogICAgICAgICAgdGhpcy5zYXZlVGVzdFNlY29uZHMgPSA2MDsKICAgICAgICAgIHRoaXMuU2F2ZVJlc3VsdCgpOwogICAgICAgIH0KCiAgICAgICAgaWYgKHNlYyA8PSAwKSB7CiAgICAgICAgICB0aGlzLlNlbmRUZXN0KCk7CiAgICAgICAgICBjbGVhckludGVydmFsKHRoaXMudGltZUludGVydmFsKTsKICAgICAgICB9CiAgICAgIH0KICAgIH0sCiAgICBTYXZlUmVzdWx0OiBmdW5jdGlvbiBTYXZlUmVzdWx0KCkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoKSB7CiAgICAgICAgdmFyIG9iajsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBfdGhpczIuaXNSZXN1bHRTYXZpbmcgPSB0cnVlOwogICAgICAgICAgICAgICAgb2JqID0gewogICAgICAgICAgICAgICAgICBxOiAnc2F2ZV9ndGVzdF9yZXN1bHQnLAogICAgICAgICAgICAgICAgICBtZTogX3RoaXMyLmdldFVzZXIoKSwKICAgICAgICAgICAgICAgICAgdGVzdDogX3RoaXMyLnRlc3QKICAgICAgICAgICAgICAgIH07CgogICAgICAgICAgICAgICAgX3RoaXMyLmF4aW9zLnBvc3QoX3RoaXMyLmFwaXVybCwgb2JqKS50aGVuKGZ1bmN0aW9uIChpdG0pIHsKICAgICAgICAgICAgICAgICAgdmFyIF9pdG0kZGF0YSwgX2l0bSRkYXRhMjsKCiAgICAgICAgICAgICAgICAgIF90aGlzMi5pc1Jlc3VsdFNhdmluZyA9IGZhbHNlOwogICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhpdG0uZGF0YSk7CgogICAgICAgICAgICAgICAgICBpZiAoKF9pdG0kZGF0YSA9IGl0bS5kYXRhKSAhPT0gbnVsbCAmJiBfaXRtJGRhdGEgIT09IHZvaWQgMCAmJiBfaXRtJGRhdGEuZGF0YSkgewogICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCfQodC+0YXRgNCw0L3QuNC7INGC0LXRgdGCJyk7CiAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoKF9pdG0kZGF0YTIgPSBpdG0uZGF0YSkgIT09IG51bGwgJiYgX2l0bSRkYXRhMiAhPT0gdm9pZCAwICYmIF9pdG0kZGF0YTIuZXJyb3IpIHsKICAgICAgICAgICAgICAgICAgICB2YXIgX2l0bSRkYXRhMzsKCiAgICAgICAgICAgICAgICAgICAgX3RoaXMyLiRlcnJvcigi0J7RiNC40LHQutCwINGB0L7RhdGA0LDQvdC10L3QuNGPIiwgKF9pdG0kZGF0YTMgPSBpdG0uZGF0YSkgPT09IG51bGwgfHwgX2l0bSRkYXRhMyA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2l0bSRkYXRhMy5lcnJvcik7CiAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgICAgX3RoaXMyLmlzUmVzdWx0U2F2aW5nID0gZmFsc2U7CgogICAgICAgICAgICAgICAgICBfdGhpczIuJGVycm9yKCLQntGI0LjQsdC60LAg0YHQvtGF0YDQsNC90LXQvdC40Y8iLCAi0JLQvtC30LzQvtC20L3Qviwg0L7RgtGB0YPRgtGB0YLQstGD0LXRgiDQv9C+0LTQutC70Y7Rh9C10L3QuNC1INC6INGB0LXRgtC4Iik7CiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZSk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIFNlbmRUZXN0OiBmdW5jdGlvbiBTZW5kVGVzdCgpIHsKICAgICAgdmFyIF90aGlzMyA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMigpIHsKICAgICAgICB2YXIgb2JqOwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMiQoX2NvbnRleHQyKSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0Mi5wcmV2ID0gX2NvbnRleHQyLm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBvYmogPSB7CiAgICAgICAgICAgICAgICAgIHE6ICd0ZXN0X3NlbmQnLAogICAgICAgICAgICAgICAgICBtZTogX3RoaXMzLmdldFVzZXIoKSwKICAgICAgICAgICAgICAgICAgdGVzdDogX3RoaXMzLnRlc3QKICAgICAgICAgICAgICAgIH07CgogICAgICAgICAgICAgICAgX3RoaXMzLmF4aW9zLnBvc3QoX3RoaXMzLmFwaXVybCwgb2JqKS50aGVuKGZ1bmN0aW9uIChpdG0pIHsKICAgICAgICAgICAgICAgICAgdmFyIF9pdG0kZGF0YTQsIF9pdG0kZGF0YTY7CgogICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhpdG0uZGF0YSk7CgogICAgICAgICAgICAgICAgICBpZiAoKF9pdG0kZGF0YTQgPSBpdG0uZGF0YSkgIT09IG51bGwgJiYgX2l0bSRkYXRhNCAhPT0gdm9pZCAwICYmIF9pdG0kZGF0YTQuZGF0YSkgewogICAgICAgICAgICAgICAgICAgIHZhciBfaXRtJGRhdGE1OwoKICAgICAgICAgICAgICAgICAgICB2YXIgdGVzdF9pZCA9IChfaXRtJGRhdGE1ID0gaXRtLmRhdGEpID09PSBudWxsIHx8IF9pdG0kZGF0YTUgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9pdG0kZGF0YTUuZGF0YTsKCiAgICAgICAgICAgICAgICAgICAgX3RoaXMzLiRyb3V0ZXIucmVwbGFjZSh7CiAgICAgICAgICAgICAgICAgICAgICBwYXRoOiAiL3Jlc3VsdC8iLmNvbmNhdCh0ZXN0X2lkKQogICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKChfaXRtJGRhdGE2ID0gaXRtLmRhdGEpICE9PSBudWxsICYmIF9pdG0kZGF0YTYgIT09IHZvaWQgMCAmJiBfaXRtJGRhdGE2LmVycm9yKSB7CiAgICAgICAgICAgICAgICAgICAgdmFyIF9pdG0kZGF0YTc7CgogICAgICAgICAgICAgICAgICAgIF90aGlzMy4kZXJyb3IoItCe0YjQuNCx0LrQsCDQvtGC0L/RgNCw0LLQutC4INGC0LXRgdGC0LAiLCAoX2l0bSRkYXRhNyA9IGl0bS5kYXRhKSA9PT0gbnVsbCB8fCBfaXRtJGRhdGE3ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfaXRtJGRhdGE3LmVycm9yKTsKICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICBfdGhpczMuJGVycm9yKCLQntGI0LjQsdC60LAg0L7RgtC/0YDQsNCy0LrQuCDRgtC10YHRgtCwIiwgItCd0LXQuNC30LLQtdGB0YLQvdCw0Y8g0L7RiNC40LHQutCwIik7CiAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgICAgX3RoaXMzLiRlcnJvcigi0J7RiNC40LHQutCwINC+0YLQv9GA0LDQstC60Lgg0YLQtdGB0YLQsCIsICLQntGC0YHRg9GC0YHRgtCy0YPQtdGCINGB0L7QtdC00LjQvdC10L3QuNC1Iik7CiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUyKTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgTG9hZEluZm86IGZ1bmN0aW9uIExvYWRJbmZvKCkgewogICAgICB2YXIgX3RoaXM0ID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUzKCkgewogICAgICAgIHZhciBvYmo7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUzJChfY29udGV4dDMpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQzLnByZXYgPSBfY29udGV4dDMubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIF90aGlzNC5pc0xvYWRpbmcgPSB0cnVlOwogICAgICAgICAgICAgICAgb2JqID0gewogICAgICAgICAgICAgICAgICBxOiAnZ2V0X3Rlc3RfaW5mbycsCiAgICAgICAgICAgICAgICAgIG1lOiBfdGhpczQuZ2V0VXNlcigpCiAgICAgICAgICAgICAgICB9OwoKICAgICAgICAgICAgICAgIGlmIChfdGhpczQuJHJvdXRlLnBhcmFtcy5pZCkgewogICAgICAgICAgICAgICAgICBvYmoudGVzdF9pZCA9IF90aGlzNC4kcm91dGUucGFyYW1zLmlkOwogICAgICAgICAgICAgICAgfSBlbHNlIGlmIChfdGhpczQuJHJvdXRlLnBhcmFtcy5naWQpIHsKICAgICAgICAgICAgICAgICAgb2JqLmd0ZXN0X2lkID0gX3RoaXM0LiRyb3V0ZS5wYXJhbXMuZ2lkOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIF90aGlzNC5heGlvcy5wb3N0KF90aGlzNC5hcGl1cmwsIG9iaikudGhlbihmdW5jdGlvbiAoaXRtKSB7CiAgICAgICAgICAgICAgICAgIHZhciBfaXRtJGRhdGE4OwoKICAgICAgICAgICAgICAgICAgX3RoaXM0LmlzTG9hZGluZyA9IGZhbHNlOwogICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhpdG0uZGF0YSk7CgogICAgICAgICAgICAgICAgICBpZiAoKF9pdG0kZGF0YTggPSBpdG0uZGF0YSkgIT09IG51bGwgJiYgX2l0bSRkYXRhOCAhPT0gdm9pZCAwICYmIF9pdG0kZGF0YTguZGF0YSkgewogICAgICAgICAgICAgICAgICAgIF90aGlzNC5pbmZvID0gaXRtLmRhdGEuZGF0YTsKICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgNDoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0My5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMyk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIExvYWQ6IGZ1bmN0aW9uIExvYWQoKSB7CiAgICAgIHZhciBfdGhpczUgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTQoKSB7CiAgICAgICAgdmFyIG9iajsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTQkKF9jb250ZXh0NCkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDQucHJldiA9IF9jb250ZXh0NC5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgX3RoaXM1LmlzTG9hZGluZyA9IHRydWU7CiAgICAgICAgICAgICAgICBvYmogPSB7CiAgICAgICAgICAgICAgICAgIHE6ICdnZXRfdGVzdF9iYXNpYycsCiAgICAgICAgICAgICAgICAgIG1lOiBfdGhpczUuZ2V0VXNlcigpCiAgICAgICAgICAgICAgICB9OwoKICAgICAgICAgICAgICAgIGlmIChfdGhpczUuJHJvdXRlLnBhcmFtcy5pZCkgewogICAgICAgICAgICAgICAgICBvYmoudGVzdF9pZCA9IF90aGlzNS4kcm91dGUucGFyYW1zLmlkOwogICAgICAgICAgICAgICAgfSBlbHNlIGlmIChfdGhpczUuJHJvdXRlLnBhcmFtcy5naWQpIHsKICAgICAgICAgICAgICAgICAgb2JqLmd0ZXN0X2lkID0gX3RoaXM1LiRyb3V0ZS5wYXJhbXMuZ2lkOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIF90aGlzNS5heGlvcy5wb3N0KF90aGlzNS5hcGl1cmwsIG9iaikudGhlbihmdW5jdGlvbiAoaXRtKSB7CiAgICAgICAgICAgICAgICAgIHZhciBfaXRtJGRhdGE5LCBfaXRtJGRhdGExMDsKCiAgICAgICAgICAgICAgICAgIF90aGlzNS5pc0xvYWRpbmcgPSBmYWxzZTsKICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coaXRtLmRhdGEpOwoKICAgICAgICAgICAgICAgICAgaWYgKChfaXRtJGRhdGE5ID0gaXRtLmRhdGEpICE9PSBudWxsICYmIF9pdG0kZGF0YTkgIT09IHZvaWQgMCAmJiBfaXRtJGRhdGE5LmRhdGEpIHsKICAgICAgICAgICAgICAgICAgICBfdGhpczUudGVzdCA9IGl0bS5kYXRhLmRhdGE7CgogICAgICAgICAgICAgICAgICAgIF90aGlzNS5zdGFydFRpbWVyKCk7CiAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoKF9pdG0kZGF0YTEwID0gaXRtLmRhdGEpICE9PSBudWxsICYmIF9pdG0kZGF0YTEwICE9PSB2b2lkIDAgJiYgX2l0bSRkYXRhMTAuZXJyb3IpIHsKICAgICAgICAgICAgICAgICAgICB2YXIgX2l0bSRkYXRhMTE7CgogICAgICAgICAgICAgICAgICAgIF90aGlzNS4kZXJyb3IoItCe0YjQuNCx0LrQsCDQt9Cw0LPRgNGD0LfQutC4INGC0LXRgdGC0LAiLCAoX2l0bSRkYXRhMTEgPSBpdG0uZGF0YSkgPT09IG51bGwgfHwgX2l0bSRkYXRhMTEgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9pdG0kZGF0YTExLmVycm9yKTsKICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgNDoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NC5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlNCk7CiAgICAgIH0pKSgpOwogICAgfQogIH0sCiAgdW5tb3VudGVkOiBmdW5jdGlvbiB1bm1vdW50ZWQoKSB7CiAgICBpZiAodGhpcy50aW1lSW50ZXJ2YWwpIHsKICAgICAgY2xlYXJJbnRlcnZhbCh0aGlzLnRpbWVJbnRlcnZhbCk7CiAgICAgIGNvbnNvbGUubG9nKCdjbGVhckludGVydmFsJyk7CiAgICB9CiAgfSwKICBjcmVhdGVkOiBmdW5jdGlvbiBjcmVhdGVkKCkgewogICAgdGhpcy5Mb2FkSW5mbygpOwogIH0KfTs="},{"version":3,"sources":["E:\\vue-projects\\QFTest\\qftest-front\\src\\views\\pages\\TestBasic.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n  <div v-if=\"MYID\">\r\n    <!-- Информационный блок -->\r\n    <div v-if=\"info != undefined && test == undefined\" class=\"_show\">\r\n      <block>\r\n        <div class=\"\">\r\n          <div  v-if=\"info?.group\" class=\"group-info\" \r\n            @click=\"$router.push(`/group/${info?.group.gr_id}`)\" >\r\n            <div class=\"user-item-row\">\r\n            <it-avatar :src=\"info?.group.user_avatar\" />\r\n            <div class=\"user-name\">\r\n              <h3>{{ info?.group.group_name }}</h3>\r\n            </div>\r\n            </div>\r\n          </div>\r\n          <div  v-if=\"info?.autor_test\" class=\"group-info\" \r\n            @click=\"$router.push(`/user/${info?.autor_test.usr_id}`)\" >\r\n            <div class=\"user-item-row\">\r\n            <it-avatar :src=\"info?.autor_test.avatar\" />\r\n            <div class=\"user-name\">\r\n              <h3>{{ info?.autor_test.first_name+' '+info?.autor_test.last_name }}</h3>\r\n            </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <it-divider style=\"margin-top: 0px\"/>\r\n        <div class=\"\">\r\n            <it-avatar\r\n            class=\"test-ico-full\"\r\n            size=\"140px\"\r\n            square\r\n            :src=\"info?.ico_url\"\r\n            :text=\"info.name\"\r\n            style=\"margin: auto; display: block;\"\r\n          />\r\n          <div>\r\n            <h3 style=\"margin: 6px 2px; font-size: 22px; text-align: center\">{{ info.name }}</h3>\r\n            <div v-if=\"info?.description\" class=\"descript-grid\">\r\n              <pre>{{ info.description }}</pre>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      <div style=\"text-align: center\">\r\n        <div v-if=\"info?.date_start\"><b>Начало:</b> {{getNormalDate(info?.date_start, true)}}</div>\r\n        <div v-if=\"info?.date_end\"><b>Окончание:</b> {{getNormalDate(info?.date_end, true)}}</div>\r\n        <div  style=\"margin-top: 10px\"  v-if=\"info?.duration_time\"><b>Длительность:</b> {{ info?.duration_time+\" мин.\" }}</div>\r\n        <div v-if=\"info?.attempts\"><b>Попыток:</b> {{ Math.max(0, info?.attempts - info?.my_attempts)+\" из \"+ info?.attempts}}</div>\r\n        <div style=\"margin-top: 4px\">\r\n          <Button v-if=\"info?.attempts == undefined || ((info?.attempts - info?.my_attempts) > 0)\" :label=\"info?.res_id ? 'Продолжить' : 'Начать тест'\" @click=\"Load\" :loading=\"isLoading\" />\r\n        </div>\r\n      </div>\r\n      </block>\r\n    </div>\r\n    <!-- /Информационный блок -->\r\n\r\n    <div v-if=\"test != undefined\" class=\"_show\">\r\n      <!-- Шапка теста -->\r\n      <block>\r\n        <div class=\"\">\r\n          <div  v-if=\"test?.group\" class=\"group-info\" \r\n            @click=\"$router.push(`/group/${test?.group.gr_id}`)\" >\r\n            <div class=\"user-item-row\">\r\n            <it-avatar :src=\"test?.group.user_avatar\" />\r\n            <div class=\"user-name\">\r\n              <h3>{{ test?.group.group_name }}</h3>\r\n            </div>\r\n            </div>\r\n          </div>\r\n          <div  v-if=\"test?.autor_test\" class=\"group-info\" \r\n            @click=\"$router.push(`/user/${test?.autor_test.usr_id}`)\" >\r\n            <div class=\"user-item-row\">\r\n            <it-avatar :src=\"test?.autor_test.avatar\" />\r\n            <div class=\"user-name\">\r\n              <h3>{{ test?.autor_test.first_name+' '+test?.autor_test.last_name }}</h3>\r\n            </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <it-divider style=\"margin-top: 0px\"/>\r\n        <div class=\"test-basic-header-wrapper\">\r\n            <it-avatar\r\n            class=\"test-ico-full\"\r\n            size=\"100px\"\r\n            square\r\n            :src=\"test?.ico_url\"\r\n            :text=\"test.name\"\r\n          />\r\n          <div>\r\n            <h3 style=\"margin: 0px\">{{ test.name }}</h3>\r\n            <pre style=\"margin-top: 6px\">{{ test.description }}</pre>\r\n          </div>\r\n        </div>\r\n        <div v-if=\"test?.duration_time\">Осталось: {{ timeLeft }}</div>\r\n      </block>\r\n      <!-- /Шапка теста -->\r\n      <BlockUI :blocked=\"secondsLeft <= 0\"> \r\n        <TestQuests :data=\"test.body\" :mode=\"'basic'\" />\r\n      </BlockUI>\r\n      <block style=\"text-align: center\">\r\n        <Button icon=\"pi pi-check\" @click=\"SendTest\" label=\"Отправить\" />\r\n        <span v-if=\"test?.res_id\" style=\"margin-left: 5px\">\r\n          <Button icon=\"pi pi-save\" @click=\"SaveResult\" :loading=\"isResultSaving\" label=\"Сохранить\" />\r\n        </span>\r\n        \r\n      </block>\r\n    </div>\r\n    <div v-if=\"test == undefined && info == undefined\" class=\"center-loading\">\r\n      <it-loading></it-loading><br />\r\n      <div>Загрузка</div>\r\n    </div>\r\n  </div>\r\n  <div v-else>\r\n    <block>\r\n      <it-alert type=\"danger\" :title=\"'Нет доступа'\" :body=\"'Необходимо авторизироваться'\"/>\r\n    </block>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport TestQuests from \"../../components/TestQuests\";\r\nimport {getNormalDate} from \"@/others/helpers\";\r\nimport Block from '../../components/Block.vue';\r\nimport Button from \"primevue/button\";\r\nimport BlockUI from 'primevue/blockui';\r\n\r\nexport default {\r\n  components: {\r\n    TestQuests, Block, Button, BlockUI,\r\n  },\r\n  computed:{\r\n    MYID(){return this.$store.getters.MYID;}\r\n  },\r\n  data() {\r\n    return {\r\n      isLoading: false,\r\n      isResultSaving: false,\r\n      info: undefined,\r\n      test: undefined,\r\n      timeLeft: undefined,\r\n      secondsLeft: undefined,\r\n      timeInterval: undefined,\r\n      saveTestSeconds: 60,\r\n    };\r\n  },\r\n  methods:{\r\n    getNormalDate,\r\n    startTimer(){\r\n      if(this.test?.duration_time){\r\n        this.computeTimeLeft();\r\n        if(this?.timeInterval != undefined){\r\n          clearInterval(this.timeInterval);\r\n          console.log('clearInterval');\r\n        }\r\n        this.timeInterval = this.test?.duration_time ? setInterval(()=>{this.computeTimeLeft()}, 1000) : undefined; //Установа счетчика времени\r\n      }\r\n    },\r\n    computeTimeLeft(){\r\n      console.log('Секунда');\r\n      if(this.test && this?.test?.duration_time && this?.test?.date_created){\r\n        let tc = new Date();\r\n        let ti = new Date( Date.parse(this?.test?.date_created) );\r\n        let sec = this?.test?.duration_time*60 - Math.floor((tc - ti)/1000);\r\n        this.saveTestSeconds--;\r\n        this.secondsLeft = sec;\r\n        this.timeLeft = (sec/60 >=1 ? Math.floor(sec/60) +\"м. \": '')+(sec%60+'c.');\r\n        if(this.saveTestSeconds == 0){\r\n          this.saveTestSeconds = 60;\r\n          this.SaveResult();\r\n        }\r\n        if(sec <= 0){\r\n          this.SendTest();\r\n          clearInterval(this.timeInterval);\r\n        }\r\n\r\n      }\r\n    },\r\n    async SaveResult(){\r\n      this.isResultSaving = true;\r\n      let obj = {\r\n        q: 'save_gtest_result',\r\n        me: this.getUser(),\r\n        test: this.test,\r\n      }\r\n      this.axios.post(this.apiurl, obj).then(itm => {\r\n        this.isResultSaving = false;\r\n        console.log(itm.data);\r\n        if(itm.data?.data){\r\n          console.log('Сохранил тест');\r\n        }else if(itm.data?.error){\r\n           this.$error(\"Ошибка сохранения\", itm.data?.error);\r\n        }\r\n      }).catch(()=>{\r\n        this.isResultSaving = false;\r\n        this.$error(\"Ошибка сохранения\", \"Возможно, отсутствует подключение к сети\");\r\n      });\r\n    },\r\n    async SendTest(){\r\n      let obj = {\r\n        q: 'test_send',\r\n        me: this.getUser(),\r\n        test: this.test,\r\n      }\r\n      this.axios.post(this.apiurl, obj).then(itm => {\r\n        console.log(itm.data);\r\n        if(itm.data?.data){\r\n          let test_id = itm.data?.data;\r\n          this.$router.replace({path: `/result/${test_id}`});\r\n        }else if(itm.data?.error){\r\n          this.$error(\"Ошибка отправки теста\", itm.data?.error);\r\n        }else{\r\n           this.$error(\"Ошибка отправки теста\", \"Неизвестная ошибка\");\r\n        }\r\n      }).catch(()=>{\r\n        this.$error(\"Ошибка отправки теста\", \"Отсутствует соединение\");\r\n      });\r\n    },\r\n    async LoadInfo(){\r\n      this.isLoading = true;\r\n      let obj = {\r\n        q: 'get_test_info',\r\n        me: this.getUser(),\r\n      }\r\n      if(this.$route.params.id){\r\n        obj.test_id = this.$route.params.id \r\n      }else if(this.$route.params.gid){\r\n         obj.gtest_id = this.$route.params.gid\r\n      }\r\n      this.axios.post(this.apiurl, obj).then(itm => {\r\n        this.isLoading = false;\r\n        console.log(itm.data);\r\n        if(itm.data?.data){\r\n          this.info = itm.data.data;\r\n        }\r\n      });\r\n    },\r\n    async Load(){\r\n      this.isLoading = true;\r\n      let obj = {\r\n        q: 'get_test_basic',\r\n        me: this.getUser(),\r\n      }\r\n      if(this.$route.params.id){\r\n        obj.test_id = this.$route.params.id\r\n      }else if(this.$route.params.gid){\r\n         obj.gtest_id = this.$route.params.gid\r\n      }\r\n      this.axios.post(this.apiurl, obj).then(itm => {\r\n        this.isLoading = false;\r\n        console.log(itm.data);\r\n        if(itm.data?.data){\r\n          this.test = itm.data.data;\r\n          this.startTimer();\r\n        }else if(itm.data?.error){\r\n          this.$error(\"Ошибка загрузки теста\", itm.data?.error);\r\n        }\r\n      });\r\n    }\r\n  },\r\n  unmounted(){\r\n    if(this.timeInterval){\r\n      clearInterval(this.timeInterval);\r\n      console.log('clearInterval');\r\n    }\r\n  },\r\n  created(){\r\n    this.LoadInfo();\r\n  },\r\n};\r\n</script>\r\n\r\n<style>\r\n.descript-grid{\r\n  display: grid;\r\n  grid-template-columns: 100%;\r\n  justify-content: center;\r\n  width: 100%;\r\n  justify-items: center;\r\n}\r\n.descript-grid pre{\r\n  width: max-content;\r\n  background-color: whitesmoke;\r\n  border: 1px solid #eaeaea;\r\n  padding: 6px 10px;\r\n  border-radius: 6px;\r\n  max-width: -webkit-fill-available;\r\n  white-space: pre-wrap;\r\n  margin: 4px;\r\n}\r\n.test-basic-header-wrapper{\r\n  display: grid;\r\n  grid-template-columns: 110px 1fr;\r\n}\r\ntextarea.it-textarea {\r\n  overflow: hidden !important;\r\n}\r\n</style>\r\n\r\n<style scoped>\r\n.p-blockui {\r\n    border-radius: 8px !important;\r\n    margin-top: -8px !important;\r\n}\r\n.user-name h3{\r\n  margin: 0px;\r\n}\r\n.new-divider-small{\r\n  margin-top: 4px;\r\n  margin-bottom: 4px;\r\n}\r\n.itm-info-label{\r\n  margin-bottom: 6px;\r\n}\r\n.group-info{\r\n  margin-bottom: 6px;\r\n  color: gray;\r\n}\r\n.user-item-row{\r\n  display: grid;\r\n  grid-template-columns: 45px 1fr;\r\n  align-items: center;\r\n}\r\n.tested-user .user-item-row{\r\n  padding-left: 16px;\r\n  grid-template-columns: 35px 1fr;\r\n}\r\n.info-block{\r\n  padding: 6px;\r\n  background-color: rgb(243, 243, 243);\r\n  box-shadow: 0px 0px 3px 3px rgb(226, 226, 226);\r\n  border-radius: 8px;\r\n  border: 1px rgb(209, 209, 209) solid;\r\n}\r\n</style>\r\n"],"sourceRoot":""}]}