{"remainingRequest":"D:\\vue-projects\\rutest\\node_modules\\thread-loader\\dist\\cjs.js!D:\\vue-projects\\rutest\\node_modules\\babel-loader\\lib\\index.js!D:\\vue-projects\\rutest\\node_modules\\eslint-loader\\index.js??ref--13-0!D:\\vue-projects\\rutest\\src\\others\\ListManager.js","dependencies":[{"path":"D:\\vue-projects\\rutest\\src\\others\\ListManager.js","mtime":1637790595665},{"path":"D:\\vue-projects\\rutest\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\vue-projects\\rutest\\node_modules\\thread-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\vue-projects\\rutest\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"D:\\vue-projects\\rutest\\node_modules\\eslint-loader\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkQ6L3Z1ZS1wcm9qZWN0cy9ydXRlc3Qvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FzeW5jVG9HZW5lcmF0b3IiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5zcGxpY2UuanMiOwppbXBvcnQgInJlZ2VuZXJhdG9yLXJ1bnRpbWUvcnVudGltZS5qcyI7Ci8v0JzQtdC90LXQtNC20LXRgCDQt9Cw0LPRgNGD0LfQutC4INGB0L/QuNGB0LrQsAppbXBvcnQgY29uZiBmcm9tICJAL2NvbmYuanMiOwppbXBvcnQgYXhpb3MgZnJvbSAiYXhpb3MiOwpleHBvcnQgZGVmYXVsdCB7CiAgQ3JlYXRlOiBmdW5jdGlvbiBDcmVhdGUodXNlciwgcXVlcnksIGNvbE5hbWUsIGNvdW50KSB7CiAgICB2YXIgZGVzYyA9IGFyZ3VtZW50cy5sZW5ndGggPiA0ICYmIGFyZ3VtZW50c1s0XSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzRdIDogdHJ1ZTsKICAgIHZhciBmdW5jID0gYXJndW1lbnRzLmxlbmd0aCA+IDUgPyBhcmd1bWVudHNbNV0gOiB1bmRlZmluZWQ7CiAgICB2YXIgbGlzdCA9IHsKICAgICAgaXRlbXM6IFtdLAogICAgICAvL9Ct0LvQtdC80LXQvdGC0YsKICAgICAgaXNMb2FkaW5nOiBmYWxzZSwKICAgICAgLy/QmNC00LXRgiDQu9C4INC30LDQs9GA0YPQt9C60LAg0LTQsNC90L3Ri9GFCiAgICAgIGlzTW9yZTogdHJ1ZSwKICAgICAgLy/QldGB0YLRjCDQu9C4INC10YnQtSDQutC+0L3RgtC10L3RgiDQtNC70Y8g0LfQsNCz0YDRg9C30LrQuAogICAgICBMb2FkOiBmdW5jdGlvbiBMb2FkKCkgewogICAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoKSB7CiAgICAgICAgICB2YXIgb2JqOwogICAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgICBpZiAoIV90aGlzLmlzTG9hZGluZykgewogICAgICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAyOwogICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuYWJydXB0KCJyZXR1cm4iLCBmYWxzZSk7CgogICAgICAgICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICAgICAgICBfdGhpcy5pc0xvYWRpbmcgPSB0cnVlOwogICAgICAgICAgICAgICAgICBvYmogPSB7CiAgICAgICAgICAgICAgICAgICAgcTogcXVlcnksCiAgICAgICAgICAgICAgICAgICAgbWU6IHVzZXIsCiAgICAgICAgICAgICAgICAgICAgZGVzYzogZGVzYywKICAgICAgICAgICAgICAgICAgICBjb3VudDogY291bnQKICAgICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgICAgaWYgKF90aGlzLml0ZW1zLmxlbmd0aCA+IDApIG9iai5wb2ludCA9IF90aGlzLml0ZW1zW190aGlzLml0ZW1zLmxlbmd0aCAtIDFdW2NvbE5hbWVdOwogICAgICAgICAgICAgICAgICBheGlvcy5wb3N0KGNvbmYuQVBJLCBvYmopLnRoZW4oZnVuY3Rpb24gKGl0bSkgewogICAgICAgICAgICAgICAgICAgIHZhciBfaXRtJGRhdGE7CgogICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCfQktCe0KInLCBpdG0uZGF0YSk7CgogICAgICAgICAgICAgICAgICAgIGlmICgoX2l0bSRkYXRhID0gaXRtLmRhdGEpICE9PSBudWxsICYmIF9pdG0kZGF0YSAhPT0gdm9pZCAwICYmIF9pdG0kZGF0YS5kYXRhKSB7CiAgICAgICAgICAgICAgICAgICAgICBpZiAoaXRtLmRhdGEuZGF0YS5sZW5ndGggPiAwKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBfaXRtJGRhdGEyOwoKICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGxlbmcgPSAoX2l0bSRkYXRhMiA9IGl0bS5kYXRhKSA9PT0gbnVsbCB8fCBfaXRtJGRhdGEyID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfaXRtJGRhdGEyLmRhdGEubGVuZ3RoOwoKICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW5nOyBpKyspIHsKICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgX2l0bSRkYXRhMzsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMuaXRlbXMucHVzaCgoX2l0bSRkYXRhMyA9IGl0bS5kYXRhKSA9PT0gbnVsbCB8fCBfaXRtJGRhdGEzID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfaXRtJGRhdGEzLmRhdGFbaV0pOwogICAgICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgICAgICBpZiAobGVuZyA8IG9iai5jb3VudCkgX3RoaXMuaXNNb3JlID0gZmFsc2U7CiAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5pc01vcmUgPSBmYWxzZTsKICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgIF90aGlzLmlzTG9hZGluZyA9IGZhbHNlOwogICAgICAgICAgICAgICAgICAgIGlmIChmdW5jKSBmdW5jKCk7CiAgICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICAgIGNhc2UgNjoKICAgICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICB9LCBfY2FsbGVlKTsKICAgICAgICB9KSkoKTsKICAgICAgfSwKICAgICAgUmVmcmVzaDogZnVuY3Rpb24gUmVmcmVzaCgpIHsKICAgICAgICB0aGlzLmlzTW9yZSA9IHRydWU7CiAgICAgICAgdGhpcy5pdGVtcyA9IFtdOwogICAgICAgIHRoaXMuTG9hZCgpOwogICAgICB9LAogICAgICBEZWxldGVCeTogZnVuY3Rpb24gRGVsZXRlQnkoY29sLCB2YWx1ZSkgewogICAgICAgIC8v0JjQvNGPINC/0LDRgNCw0LzQtdGC0YDQsCwg0LfQvdCw0YfQtdC90LjQtSDQv9Cw0YDQsNC80LXRgtGA0LAKICAgICAgICB2YXIgZGVsID0gdW5kZWZpbmVkOwoKICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuaXRlbXMubGVuZ3RoOyBpKyspIHsKICAgICAgICAgIGlmICh0aGlzLml0ZW1zW2ldW2NvbF0gPT0gdmFsdWUpIHsKICAgICAgICAgICAgZGVsID0gaTsKICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICBpZiAoZGVsICE9IHVuZGVmaW5lZCkgdGhpcy5pdGVtcy5zcGxpY2UoZGVsLCAxKTsKICAgICAgfSwKICAgICAgQWRkU3RhcnQ6IGZ1bmN0aW9uIEFkZFN0YXJ0KGl0ZW0pIHsKICAgICAgICB0aGlzLml0ZW1zLnNwbGljZSgwLCAwLCBpdGVtKTsKICAgICAgfSwKICAgICAgQWRkOiBmdW5jdGlvbiBBZGQoaXRlbSkgewogICAgICAgIHRoaXMuaXRlbXMucHVzaChpdGVtKTsKICAgICAgfQogICAgfTsKICAgIHJldHVybiBsaXN0OwogIH0KfTs="},{"version":3,"sources":["D:/vue-projects/rutest/src/others/ListManager.js"],"names":["conf","axios","Create","user","query","colName","count","desc","func","list","items","isLoading","isMore","Load","obj","q","me","length","point","post","API","then","itm","console","log","data","leng","i","push","Refresh","DeleteBy","col","value","del","undefined","splice","AddStart","item","Add"],"mappings":"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","sourcesContent":["//Менеджер загрузки списка\r\nimport conf from \"@/conf.js\";\r\nimport axios from \"axios\";\r\n\r\nexport default{\r\n  Create(user, query, colName, count, desc = true, func){\r\n    let list = {\r\n      items: [], //Элементы\r\n      isLoading: false, //Идет ли загрузка данных\r\n      isMore: true,//Есть ли еще контент для загрузки\r\n      async Load() {\r\n        if (this.isLoading) return false;\r\n        this.isLoading = true;\r\n        let obj = {\r\n          q: query,\r\n          me: user,\r\n          desc,\r\n          count,\r\n        };\r\n        if (this.items.length > 0)\r\n        obj.point = this.items[this.items.length - 1][colName];\r\n        axios.post(conf.API, obj).then((itm) => {\r\n          console.log('ВОТ', itm.data);\r\n          if (itm.data?.data) {\r\n            if (itm.data.data.length > 0) {\r\n              let leng = itm.data?.data.length;\r\n              for (let i = 0; i < leng; i++) {\r\n                this.items.push(itm.data?.data[i]);\r\n              }\r\n              if (leng < obj.count) this.isMore = false;\r\n            } else {\r\n              this.isMore = false;\r\n            }\r\n          }\r\n          this.isLoading = false;\r\n          if(func) func();\r\n        });\r\n      },\r\n      Refresh(){\r\n        this.isMore = true;\r\n        this.items = [];\r\n        this.Load();\r\n      },\r\n      DeleteBy(col, value){ //Имя параметра, значение параметра\r\n        let del = undefined;\r\n        for (let i = 0; i < this.items.length; i++) {\r\n          if(this.items[i][col] == value){\r\n            del = i;\r\n            break;\r\n          }\r\n        }\r\n        if(del != undefined) this.items.splice(del, 1);\r\n      },\r\n      AddStart(item){\r\n        this.items.splice(0, 0, item);\r\n      },\r\n      Add(item){\r\n        this.items.push(item);\r\n      },\r\n    }\r\n    return list;\r\n  },\r\n  \r\n}"]}]}