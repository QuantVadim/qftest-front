{"remainingRequest":"D:\\vue-projects\\rutest\\node_modules\\babel-loader\\lib\\index.js!D:\\vue-projects\\rutest\\node_modules\\eslint-loader\\index.js??ref--13-0!D:\\vue-projects\\rutest\\src\\others\\ListManager.js","dependencies":[{"path":"D:\\vue-projects\\rutest\\src\\others\\ListManager.js","mtime":1641534926472},{"path":"D:\\vue-projects\\rutest\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\vue-projects\\rutest\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"D:\\vue-projects\\rutest\\node_modules\\eslint-loader\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkQ6L3Z1ZS1wcm9qZWN0cy9ydXRlc3Qvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FzeW5jVG9HZW5lcmF0b3IiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5zcGxpY2UuanMiOwppbXBvcnQgInJlZ2VuZXJhdG9yLXJ1bnRpbWUvcnVudGltZS5qcyI7Ci8v0JzQtdC90LXQtNC20LXRgCDQt9Cw0LPRgNGD0LfQutC4INGB0L/QuNGB0LrQsAppbXBvcnQgY29uZiBmcm9tICJAL2NvbmYuanMiOwppbXBvcnQgYXhpb3MgZnJvbSAiYXhpb3MiOwpleHBvcnQgZGVmYXVsdCB7CiAgQ3JlYXRlOiBmdW5jdGlvbiBDcmVhdGUodXNlciwgcXVlcnksIGNvbE5hbWUsIGNvdW50KSB7CiAgICB2YXIgZGVzYyA9IGFyZ3VtZW50cy5sZW5ndGggPiA0ICYmIGFyZ3VtZW50c1s0XSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzRdIDogdHJ1ZTsKICAgIHZhciBmdW5jID0gYXJndW1lbnRzLmxlbmd0aCA+IDUgPyBhcmd1bWVudHNbNV0gOiB1bmRlZmluZWQ7CiAgICB2YXIgbGlzdCA9IHsKICAgICAgaXRlbXM6IFtdLAogICAgICAvL9Ct0LvQtdC80LXQvdGC0YsKICAgICAgaXNMb2FkaW5nOiBmYWxzZSwKICAgICAgLy/QmNC00LXRgiDQu9C4INC30LDQs9GA0YPQt9C60LAg0LTQsNC90L3Ri9GFCiAgICAgIGlzTW9yZTogdHJ1ZSwKICAgICAgLy/QldGB0YLRjCDQu9C4INC10YnQtSDQutC+0L3RgtC10L3RgiDQtNC70Y8gCiAgICAgIGluZm86IHVuZGVmaW5lZCwKICAgICAgTG9hZDogZnVuY3Rpb24gTG9hZCgpIHsKICAgICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKCkgewogICAgICAgICAgdmFyIG9iajsKICAgICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgICAgaWYgKCFfdGhpcy5pc0xvYWRpbmcpIHsKICAgICAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMjsKICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LmFicnVwdCgicmV0dXJuIiwgZmFsc2UpOwoKICAgICAgICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgICAgICAgX3RoaXMuaXNMb2FkaW5nID0gdHJ1ZTsKICAgICAgICAgICAgICAgICAgb2JqID0gewogICAgICAgICAgICAgICAgICAgIHE6IHF1ZXJ5LAogICAgICAgICAgICAgICAgICAgIG1lOiB1c2VyLAogICAgICAgICAgICAgICAgICAgIGRlc2M6IGRlc2MsCiAgICAgICAgICAgICAgICAgICAgY291bnQ6IGNvdW50CiAgICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgICAgIGlmIChfdGhpcy5pbmZvKSBvYmouaW5mbyA9IF90aGlzLmluZm87CiAgICAgICAgICAgICAgICAgIGlmIChfdGhpcy5pdGVtcy5sZW5ndGggPiAwKSBvYmoucG9pbnQgPSBfdGhpcy5pdGVtc1tfdGhpcy5pdGVtcy5sZW5ndGggLSAxXVtjb2xOYW1lXTsKICAgICAgICAgICAgICAgICAgYXhpb3MucG9zdChjb25mLkFQSSwgb2JqKS50aGVuKGZ1bmN0aW9uIChpdG0pIHsKICAgICAgICAgICAgICAgICAgICB2YXIgX2l0bSRkYXRhOwoKICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygn0JLQntCiJywgaXRtLmRhdGEpOwoKICAgICAgICAgICAgICAgICAgICBpZiAoKF9pdG0kZGF0YSA9IGl0bS5kYXRhKSAhPT0gbnVsbCAmJiBfaXRtJGRhdGEgIT09IHZvaWQgMCAmJiBfaXRtJGRhdGEuZGF0YSkgewogICAgICAgICAgICAgICAgICAgICAgaWYgKGl0bS5kYXRhLmRhdGEubGVuZ3RoID4gMCkgewogICAgICAgICAgICAgICAgICAgICAgICB2YXIgX2l0bSRkYXRhMjsKCiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBsZW5nID0gKF9pdG0kZGF0YTIgPSBpdG0uZGF0YSkgPT09IG51bGwgfHwgX2l0bSRkYXRhMiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2l0bSRkYXRhMi5kYXRhLmxlbmd0aDsKCiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuZzsgaSsrKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIF9pdG0kZGF0YTM7CgogICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLml0ZW1zLnB1c2goKF9pdG0kZGF0YTMgPSBpdG0uZGF0YSkgPT09IG51bGwgfHwgX2l0bSRkYXRhMyA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2l0bSRkYXRhMy5kYXRhW2ldKTsKICAgICAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGxlbmcgPCBvYmouY291bnQpIF90aGlzLmlzTW9yZSA9IGZhbHNlOwogICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMuaXNNb3JlID0gZmFsc2U7CiAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICBfdGhpcy5pc0xvYWRpbmcgPSBmYWxzZTsKICAgICAgICAgICAgICAgICAgICBpZiAoZnVuYykgZnVuYygpOwogICAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgICBjYXNlIDc6CiAgICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgfSwgX2NhbGxlZSk7CiAgICAgICAgfSkpKCk7CiAgICAgIH0sCiAgICAgIFJlZnJlc2g6IGZ1bmN0aW9uIFJlZnJlc2goKSB7CiAgICAgICAgdGhpcy5pc01vcmUgPSB0cnVlOwogICAgICAgIHRoaXMuaXRlbXMgPSBbXTsKICAgICAgICB0aGlzLkxvYWQoKTsKICAgICAgfSwKICAgICAgRGVsZXRlQnk6IGZ1bmN0aW9uIERlbGV0ZUJ5KGNvbCwgdmFsdWUpIHsKICAgICAgICAvL9CY0LzRjyDQv9Cw0YDQsNC80LXRgtGA0LAsINC30L3QsNGH0LXQvdC40LUg0L/QsNGA0LDQvNC10YLRgNCwCiAgICAgICAgdmFyIGRlbCA9IHVuZGVmaW5lZDsKCiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLml0ZW1zLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICBpZiAodGhpcy5pdGVtc1tpXVtjb2xdID09IHZhbHVlKSB7CiAgICAgICAgICAgIGRlbCA9IGk7CiAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgfQogICAgICAgIH0KCiAgICAgICAgaWYgKGRlbCAhPSB1bmRlZmluZWQpIHRoaXMuaXRlbXMuc3BsaWNlKGRlbCwgMSk7CiAgICAgIH0sCiAgICAgIFNldEluZm86IGZ1bmN0aW9uIFNldEluZm8oaXRtKSB7CiAgICAgICAgdGhpcy5pbmZvID0gaXRtOwogICAgICB9LAogICAgICBBZGRTdGFydDogZnVuY3Rpb24gQWRkU3RhcnQoaXRlbSkgewogICAgICAgIHRoaXMuaXRlbXMuc3BsaWNlKDAsIDAsIGl0ZW0pOwogICAgICB9LAogICAgICBBZGQ6IGZ1bmN0aW9uIEFkZChpdGVtKSB7CiAgICAgICAgdGhpcy5pdGVtcy5wdXNoKGl0ZW0pOwogICAgICB9CiAgICB9OwogICAgcmV0dXJuIGxpc3Q7CiAgfQp9Ow=="},{"version":3,"sources":["D:/vue-projects/rutest/src/others/ListManager.js"],"names":["conf","axios","Create","user","query","colName","count","desc","func","list","items","isLoading","isMore","info","undefined","Load","obj","q","me","length","point","post","API","then","itm","console","log","data","leng","i","push","Refresh","DeleteBy","col","value","del","splice","SetInfo","AddStart","item","Add"],"mappings":"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","sourcesContent":["//Менеджер загрузки списка\r\nimport conf from \"@/conf.js\";\r\nimport axios from \"axios\";\r\n\r\nexport default{\r\n  Create(user, query, colName, count, desc = true, func){\r\n    let list = {\r\n      items: [], //Элементы\r\n      isLoading: false, //Идет ли загрузка данных\r\n      isMore: true,//Есть ли еще контент для \r\n      info: undefined,\r\n      async Load() {\r\n        if (this.isLoading) return false;\r\n        this.isLoading = true;\r\n        let obj = {\r\n          q: query,\r\n          me: user,\r\n          desc,\r\n          count,\r\n        };\r\n        if(this.info) obj.info = this.info;\r\n        if (this.items.length > 0)\r\n        obj.point = this.items[this.items.length - 1][colName];\r\n        axios.post(conf.API, obj).then((itm) => {\r\n          console.log('ВОТ', itm.data);\r\n          if (itm.data?.data) {\r\n            if (itm.data.data.length > 0) {\r\n              let leng = itm.data?.data.length;\r\n              for (let i = 0; i < leng; i++) {\r\n                this.items.push(itm.data?.data[i]);\r\n              }\r\n              if (leng < obj.count) this.isMore = false;\r\n            } else {\r\n              this.isMore = false;\r\n            }\r\n          }\r\n          this.isLoading = false;\r\n          if(func) func();\r\n        });\r\n      },\r\n      Refresh(){\r\n        this.isMore = true;\r\n        this.items = [];\r\n        this.Load();\r\n      },\r\n      DeleteBy(col, value){ //Имя параметра, значение параметра\r\n        let del = undefined;\r\n        for (let i = 0; i < this.items.length; i++) {\r\n          if(this.items[i][col] == value){\r\n            del = i;\r\n            break;\r\n          }\r\n        }\r\n        if(del != undefined) this.items.splice(del, 1);\r\n      },\r\n      SetInfo(itm){\r\n        this.info = itm;\r\n      },\r\n      AddStart(item){\r\n        this.items.splice(0, 0, item);\r\n      },\r\n      Add(item){\r\n        this.items.push(item);\r\n      },\r\n    }\r\n    return list;\r\n  },\r\n  \r\n}"]}]}