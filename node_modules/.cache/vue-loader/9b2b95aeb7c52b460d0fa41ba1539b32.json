{"remainingRequest":"E:\\vue-projects\\rutest\\node_modules\\vue-loader-v16\\dist\\index.js??ref--0-1!E:\\vue-projects\\rutest\\src\\components\\Units\\LoginForm.vue?vue&type=script&lang=js","dependencies":[{"path":"E:\\vue-projects\\rutest\\src\\components\\Units\\LoginForm.vue","mtime":1641491806966},{"path":"E:\\vue-projects\\rutest\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\vue-projects\\rutest\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"E:\\vue-projects\\rutest\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\vue-projects\\rutest\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1616796459000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:DQppbXBvcnQge21hcEFjdGlvbnN9IGZyb20gJ3Z1ZXgnDQoNCmV4cG9ydCBkZWZhdWx0IHsNCiAgc2V0dXAoKSB7DQogICAgDQogIH0sDQogIGRhdGEoKXsNCiAgICByZXR1cm57DQogICAgICB3YWl0aW5nTG9naW46IGZhbHNlLA0KICAgICAgbG9naW46ICcnLA0KICAgICAgcGFzc3dvcmQ6ICcnLA0KICAgIH0NCiAgfSwNCiAgbWV0aG9kczp7DQogICAgLi4ubWFwQWN0aW9ucyhbIkxPQURfVVNFUiJdKSwNCiAgICBlbnRlclZLKCl7Ly/QktGF0L7QtCDRh9C10YDQtdC3INCS0LrQvtC90YLQsNC60YLQtQ0KICAgICAgZG9jdW1lbnQubG9jYXRpb24gPSB0aGlzLmNvbmYuVktfQVVUSF9VUkw7DQogICAgfSwNCiAgICBlbnRlckRlZigpey8v0JLRhdC+0LQg0YfQtdGA0LXQtyDRgdGC0LDQvdC00LDRgNGC0L3Ri9C5INCw0LrQutCw0YPQvdGCDQogICAgICB0aGlzLndhaXRpbmdMb2dpbiA9IHRydWU7DQogICAgICB0aGlzLmF4aW9zLnBvc3QodGhpcy5jb25mLkFVVEhfVVJMLCB7DQogICAgICAgIGxvZ2luOiB0aGlzLmxvZ2luLA0KICAgICAgICBwYXNzd29yZDogdGhpcy5wYXNzd29yZCwNCiAgICAgICAgc246ICdkZWYnDQogICAgICB9KS50aGVuKHJlc3BvbiA9PiB7DQogICAgICAgIHRoaXMud2FpdGluZ0xvZ2luID0gZmFsc2U7DQogICAgICAgIGlmKCFyZXNwb24uZGF0YT8uZXJyb3Ipew0KICAgICAgICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgndXNyX2lkJywgcmVzcG9uLmRhdGEudXNyX2lkKTsNCiAgICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ215a2V5JywgcmVzcG9uLmRhdGEubXlrZXkpOw0KDQogICAgICAgICAgICAgIHRoaXMuTE9BRF9VU0VSKCk7DQogICAgICAgICAgICAgIHRoaXMuJHJvdXRlci5wdXNoKCcvJyk7DQogICAgICAgIH1lbHNlew0KICAgICAgICAgIHRoaXMuJGVycm9yKCLQntGI0LjQsdC60LAg0LDQstGC0L7RgNC40LfQsNGG0LjQuCIsIHJlc3Bvbi5kYXRhPy5lcnJvciB8fCAi0J3QtdC40LfQstC10YHRgtC90LDRjyDQvtGI0LjQsdC60LAiKTsNCiAgICAgICAgfQ0KICAgICAgfSkuY2F0Y2goKCk9PnsgDQogICAgICAgIHRoaXMud2FpdGluZ0xvZ2luID0gZmFsc2U7DQogICAgICAgIHRoaXMuJGVycm9yKCLQntGI0LjQsdC60LAg0LDQstGC0L7RgNC40LfQsNGG0LjQuCIsICLQn9GA0L7QsdC70LXQvNGLINGBINGB0L7QtdC00LjQvdC10L3QuNC10LwiKTsNCiAgICAgICAgfSk7DQogICAgfSwNCiAgICBnb1RvUGFzc3dvcmRJbnB1dCgpew0KICAgICAgbGV0IGlucCA9IHRoaXMuJHJlZnMucGFzc3dvcmQuJGVsLmdldEVsZW1lbnRzQnlUYWdOYW1lKCJpbnB1dCIpOw0KICAgICAgaWYoaW5wKXsNCiAgICAgICAgaW5wWzBdLmZvY3VzKCk7DQogICAgICB9DQogICAgfQ0KICB9DQp9DQo="},{"version":3,"sources":["E:\\vue-projects\\rutest\\src\\components\\Units\\LoginForm.vue"],"names":[],"mappings":"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","file":"E:/vue-projects/rutest/src/components/Units/LoginForm.vue","sourceRoot":"","sourcesContent":["<template>\r\n  <div class=\"login-form\">\r\n    <br>\r\n    <div>Необходимо выполнить вход</div><br>\r\n    <it-input prefix=\"Логин\" v-model=\"login\" @keyup.enter=\"goToPasswordInput\"/>\r\n    <it-input prefix=\"Пароль\" ref=\"password\" type=\"password\" v-model=\"password\" @keyup.enter=\"enterDef\" />\r\n    <it-button block :type=\"'primary'\" style='height: 41px;' @click=\"enterDef\" outlined>Войти</it-button>\r\n    <it-divider/>\r\n    <it-button block :type=\"'primary'\" class='h-enter-vk' @click=\"enterVK\">Войти через Вконтакте</it-button>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport {mapActions} from 'vuex'\r\n\r\nexport default {\r\n  setup() {\r\n    \r\n  },\r\n  data(){\r\n    return{\r\n      waitingLogin: false,\r\n      login: '',\r\n      password: '',\r\n    }\r\n  },\r\n  methods:{\r\n    ...mapActions([\"LOAD_USER\"]),\r\n    enterVK(){//Вход через Вконтакте\r\n      document.location = this.conf.VK_AUTH_URL;\r\n    },\r\n    enterDef(){//Вход через стандартный аккаунт\r\n      this.waitingLogin = true;\r\n      this.axios.post(this.conf.AUTH_URL, {\r\n        login: this.login,\r\n        password: this.password,\r\n        sn: 'def'\r\n      }).then(respon => {\r\n        this.waitingLogin = false;\r\n        if(!respon.data?.error){\r\n              localStorage.setItem('usr_id', respon.data.usr_id);\r\n              localStorage.setItem('mykey', respon.data.mykey);\r\n\r\n              this.LOAD_USER();\r\n              this.$router.push('/');\r\n        }else{\r\n          this.$error(\"Ошибка авторизации\", respon.data?.error || \"Неизвестная ошибка\");\r\n        }\r\n      }).catch(()=>{ \r\n        this.waitingLogin = false;\r\n        this.$error(\"Ошибка авторизации\", \"Проблемы с соединением\");\r\n        });\r\n    },\r\n    goToPasswordInput(){\r\n      let inp = this.$refs.password.$el.getElementsByTagName(\"input\");\r\n      if(inp){\r\n        inp[0].focus();\r\n      }\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style>\r\n.login-form .it-input-prefix-wrapper{\r\n  margin-bottom: 6px !important;\r\n}\r\n.h-enter-vk{\r\n  display: block;\r\n  height: 41px;\r\n}\r\n</style>"]}]}