{"remainingRequest":"E:\\vue-projects\\QFTest\\qftest-front\\node_modules\\vue-loader-v16\\dist\\index.js??ref--0-1!E:\\vue-projects\\QFTest\\qftest-front\\src\\views\\pages\\Group.vue?vue&type=style&index=0&id=0a3cee2a&lang=css","dependencies":[{"path":"E:\\vue-projects\\QFTest\\qftest-front\\src\\views\\pages\\Group.vue","mtime":1647434946470},{"path":"E:\\vue-projects\\QFTest\\qftest-front\\node_modules\\css-loader\\dist\\cjs.js","mtime":1647388208165},{"path":"E:\\vue-projects\\QFTest\\qftest-front\\node_modules\\vue-loader-v16\\dist\\stylePostLoader.js","mtime":1647388262306},{"path":"E:\\vue-projects\\QFTest\\qftest-front\\node_modules\\postcss-loader\\src\\index.js","mtime":1647388229687},{"path":"E:\\vue-projects\\QFTest\\qftest-front\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1647388190513},{"path":"E:\\vue-projects\\QFTest\\qftest-front\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1647388262278}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:DQouZ3JvdXAtY2xvc2VkLW1lc3NhZ2V7DQogIHRleHQtYWxpZ246IGNlbnRlcjsNCiAgZm9udC1zaXplOiAyMHB4Ow0KICBwYWRkaW5nOiAxNnB4Ow0KICBjb2xvcjogd2hpdGU7DQogIGJhY2tncm91bmQtY29sb3I6ICM4OTFlMWU7DQogIGJvcmRlci1yYWRpdXM6IDhweDsNCiAgbWFyZ2luLWJvdHRvbTogOHB4Ow0KfQ0KLmdyb3VwLWhlYWRlci1pbWFnZS13cmFwcGVyIC5pdC1hdmF0YXIgew0KICBtYXJnaW46IGF1dG87DQogIHBvc2l0aW9uOiByZWxhdGl2ZTsNCiAgbWFyZ2luLXRvcDogLTcwcHg7DQogIG91dGxpbmU6IDZweCBzb2xpZCB3aGl0ZTsNCiAgZGlzcGxheTogYmxvY2s7DQp9DQouYnRuLWVkaXQtZ3JvdXAgew0KICBwb3NpdGlvbjogcmVsYXRpdmU7DQogIG1hcmdpbi10b3A6IC0zOHB4Ow0KICBtYXJnaW4tbGVmdDogODZweDsNCiAgaGVpZ2h0OiAzOHB4Ow0KICB3aWR0aDogMzhweDsNCiAgb3V0bGluZTogNHB4IHNvbGlkIHdoaXRlOw0KfQ0KLmJ0bi1lZGl0LWdyb3VwIGkgew0KICB3aWR0aDogMzhweDsNCiAgaGVpZ2h0OiAzOHB4Ow0KICBmb250LXNpemU6IDIwcHggIWltcG9ydGFudDsNCiAgbGluZS1oZWlnaHQ6IDM4cHg7DQogIG9wYWNpdHk6IDAuNjsNCn0NCi5ncm91cC1pbWFnZS13cmFwcGVyLWNlbnRlciB7DQogIHdpZHRoOiBmaXQtY29udGVudDsNCiAgbWFyZ2luOiBhdXRvOw0KfQ0KLnAtc2lkZWJhciB7DQogIHotaW5kZXg6IDk5OTk5OTkgIWltcG9ydGFudDsNCn0NCi53aW4tcmVzdWx0LnAtc2lkZWJhciB7DQogIGhlaWdodDogMTAwdmggIWltcG9ydGFudDsNCiAgYmFja2dyb3VuZC1jb2xvcjogcmdiKDIwNiwgMjA2LCAyMDYpOw0KfQ0KLndpbi1yZXN1bHQgLnAtc2lkZWJhci1oZWFkZXIgew0KICBib3gtc2hhZG93OiAwcHggOHB4IDhweCAjY2VjZWNlOw0KICB6LWluZGV4OiAxOw0KfQ0KLndpbi1yZXN1bHQgLnNpZGViYXItY29uZW50LWNlbnRlciB7DQogIG1heC13aWR0aDogNzAwcHg7DQogIG1hcmdpbjogYXV0bzsNCn0NCi53aW4tcmVzdWx0IC5wLXNpZGViYXItY29udGVudCB7DQogIG1hcmdpbjogMHB4Ow0KICBwYWRkaW5nOiAwcHg7DQp9DQoucC1zaWRlYmFyLW1hc2sgew0KICB6LWluZGV4OiA5OTk5OTkgIWltcG9ydGFudDsNCn0NCg=="},{"version":3,"sources":["E:\\vue-projects\\QFTest\\qftest-front\\src\\views\\pages\\Group.vue"],"names":[],"mappings":"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","file":"E:/vue-projects/QFTest/qftest-front/src/views/pages/Group.vue","sourceRoot":"","sourcesContent":["<template>\r\n  <div v-if=\"error == false\">\r\n    <div v-if=\"group != undefined && group?.closed == 0\" @mousedown=\"saveScroll\">\r\n      <it-toggle\r\n        v-if=\"this.group.usr_id == this.$store.state.ME.data.usr_id\"\r\n        v-model=\"tab\"\r\n        :options=\"['Группа', 'Администрирование']\"\r\n      />\r\n      <div v-if=\"tab == 'Группа'\">\r\n        <block style=\"margin-top: 60px\">\r\n          <div style=\"color: gray; margin-left: 6px\">\r\n            {{ group.count_users }} ч. \r\n          </div>\r\n          <div class=\"group-header-image-wrapper\">\r\n            <div class=\"group-image-wrapper-center\">\r\n              <it-avatar\r\n                title=\"Изображение группы\"\r\n                class=\"test-ico-full\"\r\n                :style=\"\r\n                  this.group.usr_id == this.$store.state.ME.data.usr_id\r\n                    ? 'cursor: pointer;'\r\n                    : ''\r\n                \"\r\n                size=\"120px\"\r\n                :src=\"group?.ico_url\"\r\n                :text=\"group.name\"\r\n                @click=\"\r\n                  this.group.usr_id == this.$store.state.ME.data.usr_id\r\n                    ? (isImageSelector = true)\r\n                    : ''\r\n                \"\r\n              />\r\n              <it-button\r\n                v-if=\"this.group.usr_id == this.$store.state.ME.data.usr_id\"\r\n                title=\"Изменить название и описание\"\r\n                class=\"btn-edit-group\"\r\n                icon=\"edit\"\r\n                @click=\"isWindowEditDescription = true\"\r\n                size=\"big\"\r\n                round\r\n              ></it-button>\r\n            </div>\r\n          </div>\r\n          <div>\r\n            <h3 style=\"margin: 8px 0px; text-align: center\">\r\n              {{ group.name }}\r\n            </h3>\r\n            <pre v-if=\"group.description\">{{ group.description }}</pre>\r\n          </div>\r\n        </block>\r\n        <block>\r\n          <GTestsLIst :data=\"cashTests\" @cash=\"toCashTests\" />\r\n        </block>\r\n      </div>\r\n      <div v-if=\"tab == 'Администрирование'\">\r\n        <block>\r\n          <Accordion :multiple=\"true\">\r\n            <AccordionTab header=\"Вход в группу\">\r\n              <it-checkbox\r\n                @click=\"SwitchJoinGroup\"\r\n                :disabled=\"isWaitJoinGroup\"\r\n                :type=\"'primary'\"\r\n                :label=\"'Вход в группу'\"\r\n                v-model=\"isJoinGroup\"\r\n              />\r\n              <div v-if=\"isJoinGroup && group.join_key.length > 1\">\r\n                <it-input prefix=\"Код\" v-model=\"join_code\" readonly />\r\n                <it-input prefix=\"Ссылка\" v-model=\"join_link\" readonly />\r\n              </div>\r\n            </AccordionTab>\r\n            <AccordionTab header=\"Другие настройки\">\r\n              <p-button class=\"p-button-danger p-button-outlined\" @click=\"isWindowGroupClose = true\" label=\"Закрыть группу\" />\r\n            </AccordionTab>\r\n          </Accordion>\r\n        </block>\r\n        <block>\r\n          <h3>Люди</h3>\r\n          <it-toggle v-model=\"tabPeople\" :options=\"['Участники', 'Заявки']\" />\r\n          <GroupUsers\r\n            @cash=\"CashItems\"\r\n            :data=\"getCashUsers\"\r\n            :gr_id=\"$route.params.id\"\r\n            :accepted=\"tabPeople == 'Участники'\"\r\n            :key=\"tabPeople\"\r\n          />\r\n        </block>\r\n      </div>\r\n    </div>\r\n    <!-- Закрытая группа: -->\r\n    <div v-else-if=\"group && group?.closed == 1\">\r\n      <block style=\"margin-top: 60px\">\r\n          <div style=\"color: gray; margin-left: 6px\">\r\n            {{ group.count_users }} ч.\r\n          </div>\r\n          <div class=\"group-header-image-wrapper\">\r\n            <div class=\"group-image-wrapper-center\">\r\n              <it-avatar\r\n                title=\"Изображение группы\"\r\n                class=\"test-ico-full\"\r\n                :style=\"\r\n                  this.group.usr_id == this.$store.state.ME.data.usr_id\r\n                    ? 'cursor: pointer;'\r\n                    : ''\r\n                \"\r\n                size=\"120px\"\r\n                :src=\"group?.ico_url\"\r\n                :text=\"group.name\"\r\n                @click=\"\r\n                  this.group.usr_id == this.$store.state.ME.data.usr_id\r\n                    ? (isImageSelector = true)\r\n                    : ''\r\n                \"\r\n              />\r\n              <it-button\r\n                v-if=\"this.group.usr_id == this.$store.state.ME.data.usr_id\"\r\n                title=\"Изменить название и описание\"\r\n                class=\"btn-edit-group\"\r\n                icon=\"edit\"\r\n                @click=\"isWindowEditDescription = true\"\r\n                size=\"big\"\r\n                round\r\n              ></it-button>\r\n            </div>\r\n          </div>\r\n          <div>\r\n            <h3 style=\"margin: 8px 0px; text-align: center\">\r\n              {{ group.name }}\r\n            </h3>\r\n            <pre v-if=\"group.description\">{{ group.description }}</pre>\r\n          </div>\r\n          <div class=\"group-closed-message\">Группа закрыта</div>\r\n          <Accordion v-if=\"this.group.usr_id == this.$store.state.ME.data.usr_id\" :multiple=\"true\">\r\n            <AccordionTab header=\"Действия\">\r\n              <div class=\"p-buttonset\" style=\"display: grid; grid-template-columns: 1fr 1fr\">\r\n                <p-button class=\"p-button-danger\" @click=\"btnDeleteGroup\" label=\"Удалить группу\" />\r\n                <p-button class=\"p-button-success\" @click=\"btnOpenGroup\" label=\"Открыть группу\" />\r\n              </div>\r\n            </AccordionTab>\r\n          </Accordion>\r\n          <ConfirmDialog></ConfirmDialog>\r\n        </block>\r\n    </div>\r\n    <Sidebar\r\n      v-model:visible=\"isOpenResult\"\r\n      position=\"bottom\"\r\n      class=\"win-result\"\r\n    >\r\n      <div class=\"sidebar-conent-center\">\r\n        <TestResult\r\n          :key=\"$route.query?.result\"\r\n          :set-res-id=\"$route.query?.result\"\r\n        />\r\n      </div>\r\n    </Sidebar>\r\n    <!-- Выбор изображения: -->\r\n    <it-modal v-model=\"isImageSelector\">\r\n      <template #header>\r\n        <h3 style=\"margin: 0px\">Выбор изображения</h3>\r\n      </template>\r\n      <template #body>\r\n        <ImageSelector @select=\"SelectImage\" @close=\"isImageSelector = false\" img-type='ico' />\r\n      </template>\r\n      <template #actions>\r\n        <it-button @click=\"isImageSelector = false\">Отмена</it-button>\r\n        <!-- <it-button :loading=\"isDeletingGTest\" @click=\"DeleteGTest\" type=\"danger\">Удалить</it-button> -->\r\n      </template>\r\n    </it-modal>\r\n    <!-- Изменение названия и описания группы: -->\r\n    <it-modal v-model=\"isWindowEditDescription\">\r\n      <template #header>\r\n        <h3 class=\"modal-header\">Редактирование группы</h3>\r\n      </template>\r\n      <template #body>\r\n        <it-input v-model=\"editGroupData.name\" placeholder=\"Название группы\" /><br />\r\n        <it-textarea\r\n          v-model=\"editGroupData.description\"\r\n          placeholder=\"Описание группы\"\r\n        />\r\n      </template>\r\n      <template #actions>\r\n        <it-button @click=\"isWindowEditDescription = false\">Отмена</it-button>\r\n        <it-button @click=\"SaveDescriptionGroup\" type=\"primary\" :loading=\"isEditingDescriptionGroup\">Сохранить</it-button>\r\n      </template>\r\n    </it-modal>\r\n    <!-- Закрытие группы: -->\r\n    <it-modal v-model=\"isWindowGroupClose\">\r\n      <template #header>\r\n        <h3 class=\"modal-header\" style=\"margin: 0px\">Закрытие группы</h3>\r\n      </template>\r\n      <template #body>\r\n        <b>Вы уверены, что хотите закрыть группу?</b><br><br>\r\n        <div>После закрытия группы:</div>\r\n        <ul style=\"margin: 3px; padding-left: 18px\">\r\n          <li>Вы сможете ее безвозвратно удалить</li>\r\n          <li>Группу возможно будет снова открыть</li>\r\n          <li>Пользователи не смогут получить доступ к группе</li>\r\n        </ul>\r\n      </template>\r\n      <template #actions>\r\n        <it-button @click=\"CloseGroup(true)\" type=\"danger\" outlined :loading=\"isClosingGroup\">Закрыть группу</it-button>\r\n        <it-button @click=\"isWindowGroupClose = false\">Отмена</it-button>\r\n      </template>\r\n    </it-modal>\r\n  </div>\r\n  <div v-else>\r\n    <block>\r\n      <it-alert\r\n        type=\"danger\"\r\n        :title=\"'Отказано в доступе'\"\r\n        :body=\"'Группа не существует или вы не состоите в ней'\"\r\n      />\r\n    </block>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport GroupUsers from \"../../components/Lists/GroupUsers.vue\";\r\nimport GTestsLIst from \"../../components/Lists/GTestsList.vue\";\r\nimport TestResult from \"../../views/pages/TestResult.vue\";\r\nimport Sidebar from \"primevue/sidebar\";\r\nimport ImageSelector from \"@/components/Menus/ImageSelector\";\r\n\r\nimport Accordion from 'primevue/accordion';\r\nimport AccordionTab from 'primevue/accordiontab';\r\nimport ConfirmDialog from 'primevue/confirmdialog';\r\n// @ is an alias to /src\r\n\r\nexport default {\r\n  components: {\r\n    GroupUsers, GTestsLIst, TestResult, Sidebar, ImageSelector, Accordion, AccordionTab, ConfirmDialog\r\n  },\r\n  data() {\r\n    return {\r\n      tab: \"Группа\",\r\n      tabPeople: \"Участники\",\r\n      isJoinGroup: true,\r\n      isEditingDescriptionGroup: false,\r\n      isClosingGroup: false,\r\n      isWaitJoinGroup: false,\r\n      isImageSelector: false,\r\n      isWindowEditDescription: false,\r\n      isWindowGroupClose: false,\r\n      key: \"dg\",\r\n      error: false,\r\n      cashTests: false,\r\n      cashUsers: [false, false],\r\n      group: undefined,\r\n      editGroupData: {name: '', description: ''},\r\n      result_id: null,\r\n      isOpenResult: false,\r\n\r\n      ScrollY: 0,\r\n    };\r\n  },\r\n  computed: {\r\n    winResult(){\r\n      return this.$route.query?.result;\r\n    },\r\n    join_link() {\r\n      return (\r\n        window.location.origin +\r\n        \"/join/\" +\r\n        this.group.gr_id +\r\n        \"/\" +\r\n        this.group.join_key\r\n      );\r\n    },\r\n    join_code() {\r\n      return this.group.gr_id + \"/\" + this.group.join_key;\r\n    },\r\n    getCashUsers() {\r\n      if (this.tabPeople == \"Участники\") return this.cashUsers[0];\r\n      else return this.cashUsers[1];\r\n    },\r\n  },\r\n  watch: {\r\n    winResult(){\r\n      this.isOpenResult = this.$route.query?.result ? true : false;\r\n      console.log('ss', this.isOpenResult );\r\n    },\r\n    isOpenResult(){\r\n      if(this.isOpenResult == false) this.$router.push({query: {}});\r\n    },\r\n    isWindowEditDescription(val){\r\n      if(val){\r\n        this.editGroupData.name = this.group?.name;\r\n        this.editGroupData.description = this.group?.description;\r\n      }\r\n    }\r\n  },\r\n  activated(){\r\n    this.$emit('activated');\r\n  },\r\n  mounted() {\r\n    this.GroupLoad();\r\n  },\r\n  methods: {\r\n    SelectImage(img){\r\n      let obj = {\r\n        me: this.$store.state.ME.data,\r\n        q: \"set_group_ico\",\r\n        gr_id: this.group.gr_id,\r\n        img_id: img.img_id,\r\n      }\r\n      this.axios.post(this.apiurl, obj).then((itm)=>{\r\n        if(itm.data?.data){\r\n          this.$success('Изображение изменено', 'Изображение группы было успешно изменено');\r\n          this.group.ico_url = img.url;\r\n        }else{\r\n          this.$error(\"Ошибка изменения изображения\", itm.data?.error || \"Неизветсная ошибка\")\r\n          console.log(itm.data);\r\n        }\r\n      }).catch(()=>{\r\n        this.$error(\"Ошибка изменения изображения\", \"Проблемы с соединением\")\r\n      });\r\n      \r\n    },\r\n    SaveDescriptionGroup(){\r\n      this.isEditingDescriptionGroup = true;\r\n      let obj = {\r\n        me: this.$store.state.ME.data,\r\n        q: \"set_group_info\",\r\n        gr_id: this.group?.gr_id,\r\n        info: this.editGroupData\r\n      }\r\n      this.axios.post(this.apiurl, obj).then((itm)=>{\r\n        this.isEditingDescriptionGroup = false;\r\n        if(itm.data?.data){\r\n          console.log()\r\n          if(itm.data.data == this.group?.gr_id){\r\n            this.group.name = itm.data?.info?.name || this.group.name;\r\n            this.group.description = itm.data?.info?.description;\r\n          }\r\n          this.$success('Измениение группы', 'Название и описание группы успешно изменены');\r\n          this.isWindowEditDescription = false;\r\n        }else{\r\n          this.$error(\"Ошибка изменения описания группы\", itm.data?.error || \"Неизветсная ошибка\")\r\n        }\r\n      }).catch(()=>{\r\n        this.isEditingDescriptionGroup = false;\r\n         this.$error(\"Ошибка изменения описания группы\", \"Проблемы с соединением\")\r\n      });\r\n    },\r\n    CloseGroup(val){\r\n      this.isClosingGroup = true;\r\n      let obj = {\r\n        me: this.$store.state.ME.data,\r\n        q: \"set_close_group\",\r\n        gr_id: this.group?.gr_id,\r\n        value: val\r\n      };\r\n      this.axios.post(this.apiurl, obj).then((itm)=>{\r\n        this.isClosingGroup = false;\r\n        if(itm.data?.data){\r\n          this.isWindowGroupClose = false;\r\n          this.GroupLoad();\r\n        }else{\r\n          if(val)\r\n            this.$error(\"Ошибка закрытия группы\", itm.data?.error || \"Неизветсная ошибка\")\r\n          else\r\n            this.$error(\"Ошибка открытия группы\", itm.data?.error || \"Неизветсная ошибка\")\r\n          \r\n          \r\n        }\r\n      }).catch(()=>{\r\n        if(val)\r\n          this.$error(\"Ошибка закрытия группы\", \"Проблемы с соединением\");\r\n        else\r\n          this.$error(\"Ошибка открытия группы\", \"Проблемы с соединением\");\r\n      });\r\n    },\r\n    btnOpenGroup(){\r\n      this.$confirm.require({\r\n          message: 'Вы уверены, что хотите открыть группу?',\r\n          header: 'Открытие группы',\r\n          icon: 'pi pi-exclamation-triangle',\r\n          acceptClass: 'p-button-success',\r\n          accept: () => {\r\n              this.CloseGroup(false);\r\n          },\r\n          reject: () => {}\r\n      });\r\n    },\r\n    btnDeleteGroup(){\r\n      this.$confirm.require({\r\n          message: 'Вы уверены, что хотите удалить группу? Восстановить ее будет невозможно',\r\n          header: 'Удаление группы',\r\n          icon: 'pi pi-trash',\r\n          acceptClass: 'p-button-danger',\r\n          accept: () => {\r\n            let obj = {\r\n              me: this.$store.state.ME.data,\r\n              q: \"delete_group\",\r\n              gr_id: this.group?.gr_id,\r\n            };\r\n            this.axios.post(this.apiurl, obj).then((itm)=>{\r\n              if(itm.data?.data){\r\n                this.GroupLoad();\r\n                this.$success(\"Удаление группы\", \"Группа успешно удалена\");\r\n              }else{\r\n                this.$error(\"Удаление группы\", itm.data?.error || \"Неизветсная ошибка\");\r\n              }\r\n            }).catch(()=>{\r\n              this.$error(\"Удаление группы\", \"Проблемы с соединением\");\r\n            });\r\n          },\r\n          reject: () => {}\r\n      });\r\n    },\r\n    OpenResult(res_id){\r\n      console.log(res_id);\r\n      this.result_id = res_id;\r\n      this.isOpenResult = true;\r\n    },\r\n    toCashTests(items){\r\n      this.cashTests = items;\r\n    },\r\n    CashItems(items) {\r\n      if (this.tabPeople == \"Участники\") this.cashUsers[0] = items;\r\n      else this.cashUsers[1] = items;\r\n    },\r\n    SwitchJoinGroup() {\r\n      setTimeout(() => {\r\n        this.isWaitJoinGroup = true;\r\n        this.group.join_key = \"\";\r\n        let obj = {\r\n          q: \"switch_joining_grop\",\r\n          me: this.$store.state.ME.data,\r\n          gr_id: this.$route.params.id,\r\n          is_joining: this.isJoinGroup,\r\n        };\r\n        this.axios.post(this.apiurl, obj).then((itm) => {\r\n          console.log(itm.data);\r\n          if (itm.data?.data) {\r\n            this.group.join_key = itm.data.data;\r\n            this.isJoinGroup = itm.data.data.length > 5;\r\n          }\r\n          this.isWaitJoinGroup = false;\r\n        });\r\n      }, 0);\r\n    },\r\n    GroupLoad() {\r\n      let obj = {\r\n        q: \"get_group_info\",\r\n        me: this.$store.state.ME.data,\r\n        gr_id: this.$route.params.id,\r\n      };\r\n      this.axios.post(this.apiurl, obj).then((itm) => {\r\n        console.log(itm.data);\r\n        if (itm.data?.data) {\r\n          this.group = itm.data.data;\r\n          this.isJoinGroup = itm.data.data.join_key.length > 5;\r\n        } else if (itm.data?.error) {\r\n          this.error = itm.data?.error;\r\n        }\r\n      });\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style>\r\n.group-closed-message{\r\n  text-align: center;\r\n  font-size: 20px;\r\n  padding: 16px;\r\n  color: white;\r\n  background-color: #891e1e;\r\n  border-radius: 8px;\r\n  margin-bottom: 8px;\r\n}\r\n.group-header-image-wrapper .it-avatar {\r\n  margin: auto;\r\n  position: relative;\r\n  margin-top: -70px;\r\n  outline: 6px solid white;\r\n  display: block;\r\n}\r\n.btn-edit-group {\r\n  position: relative;\r\n  margin-top: -38px;\r\n  margin-left: 86px;\r\n  height: 38px;\r\n  width: 38px;\r\n  outline: 4px solid white;\r\n}\r\n.btn-edit-group i {\r\n  width: 38px;\r\n  height: 38px;\r\n  font-size: 20px !important;\r\n  line-height: 38px;\r\n  opacity: 0.6;\r\n}\r\n.group-image-wrapper-center {\r\n  width: fit-content;\r\n  margin: auto;\r\n}\r\n.p-sidebar {\r\n  z-index: 9999999 !important;\r\n}\r\n.win-result.p-sidebar {\r\n  height: 100vh !important;\r\n  background-color: rgb(206, 206, 206);\r\n}\r\n.win-result .p-sidebar-header {\r\n  box-shadow: 0px 8px 8px #cecece;\r\n  z-index: 1;\r\n}\r\n.win-result .sidebar-conent-center {\r\n  max-width: 700px;\r\n  margin: auto;\r\n}\r\n.win-result .p-sidebar-content {\r\n  margin: 0px;\r\n  padding: 0px;\r\n}\r\n.p-sidebar-mask {\r\n  z-index: 999999 !important;\r\n}\r\n</style>"]}]}