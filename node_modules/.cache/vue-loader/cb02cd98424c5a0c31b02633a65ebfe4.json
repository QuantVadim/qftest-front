{"remainingRequest":"E:\\vue-projects\\rutest\\node_modules\\vue-loader-v16\\dist\\index.js??ref--0-1!E:\\vue-projects\\rutest\\src\\views\\pages\\Groups.vue?vue&type=style&index=0&id=410c7839&lang=css","dependencies":[{"path":"E:\\vue-projects\\rutest\\src\\views\\pages\\Groups.vue","mtime":1641518131018},{"path":"E:\\vue-projects\\rutest\\node_modules\\css-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\vue-projects\\rutest\\node_modules\\vue-loader-v16\\dist\\stylePostLoader.js","mtime":1616796459000},{"path":"E:\\vue-projects\\rutest\\node_modules\\postcss-loader\\src\\index.js","mtime":499162500000},{"path":"E:\\vue-projects\\rutest\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\vue-projects\\rutest\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1616796459000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoubW9kYWwtaGVhZGVyIHsKICBtYXJnaW46IDNweDsKfQo="},{"version":3,"sources":["E:\\vue-projects\\rutest\\src\\views\\pages\\Groups.vue"],"names":[],"mappings":";;AAiJA,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE;EACZ,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;AACb","file":"E:/vue-projects/rutest/src/views/pages/Groups.vue","sourceRoot":"","sourcesContent":["<template>\n  <div>\n      <!-- Создание группы -->\n      <it-modal v-model=\"isWindowCreateGroup\">\n        <template #header\n          ><h3 class=\"modal-header\">Создание группы</h3></template\n        >\n        <template #body>\n          <it-input\n            v-model=\"newGroup.name\"\n            placeholder=\"Название группы\"\n          /><br />\n          <it-textarea\n            v-model=\"newGroup.description\"\n            placeholder=\"Описание группы\"\n          />\n        </template>\n        <template #actions>\n          <it-button @click=\"isWindowCreateGroup = false\">Отмена</it-button>\n          <it-button @click=\"CreateGroup\" type=\"primary\">Создать</it-button>\n        </template>\n      </it-modal>\n      <!-- /Создание группы -->\n      <!-- Вступление в группу -->\n      <it-modal v-model=\"isWindowJoinGroup\">\n        <template #header\n          ><h3 class=\"modal-header\">Вступить в группу</h3></template\n        >\n        <template #body>\n          <it-input v-model=\"joinCode\" placeholder=\"Код вступления\" /><br />\n        </template>\n        <template #actions>\n          <it-button @click=\"isWindowJoinGroup = false\">Отмена</it-button>\n          <it-button :loading=\"isJoinLoading\" @click=\"JoinGroup\" type=\"primary\">Вступить</it-button>\n        </template>\n      </it-modal>\n      <!-- /Вступление в группу -->\n    <block>\n      <h3>Группы:</h3>\n      <it-button-group>\n      <it-button icon=\"add\" @click=\"isWindowCreateGroup = true\">Создать группу</it-button>\n      <it-button icon=\"login\" @click=\"isWindowJoinGroup = true\">Вступить в группу</it-button>\n      </it-button-group>\n      <br>\n      <it-toggle v-model=\"tabGroup\" :options=\"['В составе', 'Управляемые']\" />\n        <br>\n        <GroupsList :key=\"tabGroup\" :tab=\"tabGroup\" />\n        <!-- <GroupCard :data=\"item\" />\n        <Divider /> -->\n    </block>\n  </div>\n</template>\n\n<script>\nimport GroupsList from \"../../components/Lists/GroupsList.vue\";\n\n\nexport default {\n  components: {\n    GroupsList,\n  },\n  data() {\n    return {\n      items: [],\n      tabGroup: 'В составе',\n      isWindowCreateGroup: false,\n      isWindowJoinGroup: false,\n      isJoinLoading: false,\n      joinCode: \"\",\n      newGroup: {\n        name: \"\",\n        description: \"\",\n      },\n    };\n  },\n  activated(){\n    this.$emit('activated');\n  },\n  methods: {\n    SelectedImage(itm){\n      console.log(itm);\n    },\n    CreateGroup() {\n      if (this.newGroup.name.trim().length > 1) {\n        let obj = {\n          q: \"create_group\",\n          me: this.$store.state.ME.data,\n          name: this.newGroup.name,\n          description: this.newGroup.description,\n        };\n        this.axios.post(this.apiurl, obj).then((itm) => {\n          console.log(itm.data);\n          if (itm.data?.data) {\n            this.$router.push(`/group/${itm.data.data}`);\n            this.isWindowCreateGroup = false;\n            this.newGroup.name = \"\";\n            this.newGroup.description = \"\";\n          }else{\n            this.$error(\"Ошибка создания группы\", itm.data?.error ?? \"Неизвестная ошибка\");\n          }\n        }).catch(()=>{\n          this.$error(\"Ошибка создания группы\", \"Ошибка с соединением\");\n        })\n      }\n    },\n\n    JoinGroup() {\n      if(this.isJoinLoading) return;\n      this.isJoinLoading = true;\n      let obj = {\n        q: \"join_group\",\n        me: this.$store.state.ME.data,\n        join_code: this.joinCode,\n      };\n      this.axios.post(this.apiurl, obj).then((itm) => {\n        this.isJoinLoading = false;\n        this.joinCode = \"\";\n        console.log(itm.data);\n        if (itm.data?.data) {\n          this.isWindowJoinGroup = false;\n          switch (itm.data.data) {\n            case 'ok':\n              this.$Notification.success({\n            title: itm.data?.message,\n            placement: 'bottom-right',\n            text: \"Ожидайте, пока куратор примит вашу заявку\",\n          });\n              break;\n            case 'ok2':\n              this.$Notification.warning({\n            title: itm.data?.message,\n            placement: 'bottom-right',\n           \n          });\n              break;\n          }\n        }\n      });\n    },\n  },\n};\n</script>\n\n<style>\n\n.modal-header {\n  margin: 3px;\n}\n</style>"]}]}